2025-09-23 15:35:12,369 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-23 15:35:12,371 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-09-23 15:35:12,371 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-09-23 15:35:12,371 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-23 15:35:12,371 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-09-23 15:35:12,371 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-09-23 15:35:12,371 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-23 15:35:12,371 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-23 15:35:12,372 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:253548]
2025-09-23 15:35:12,372 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-23 15:35:12,372 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-23 15:35:12,372 - python_multipart.multipart - DEBUG - Calling on_header_field with data[253592:253611]
2025-09-23 15:35:12,372 - python_multipart.multipart - DEBUG - Calling on_header_value with data[253613:253643]
2025-09-23 15:35:12,372 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-23 15:35:12,372 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-23 15:35:12,372 - python_multipart.multipart - DEBUG - Calling on_part_data with data[253647:253657]
2025-09-23 15:35:12,372 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-23 15:35:12,372 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-23 15:35:12,372 - python_multipart.multipart - DEBUG - Calling on_header_field with data[253701:253720]
2025-09-23 15:35:12,372 - python_multipart.multipart - DEBUG - Calling on_header_value with data[253722:253750]
2025-09-23 15:35:12,372 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-23 15:35:12,373 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-23 15:35:12,373 - python_multipart.multipart - DEBUG - Calling on_part_data with data[253754:253769]
2025-09-23 15:35:12,373 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-23 15:35:12,373 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-09-23 15:38:41,932 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-23 15:38:41,934 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-09-23 15:38:41,934 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-09-23 15:38:41,934 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-23 15:38:41,934 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-09-23 15:38:41,934 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-09-23 15:38:41,934 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-23 15:38:41,934 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:194750]
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_header_field with data[194794:194813]
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_header_value with data[194815:194845]
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_part_data with data[194849:194859]
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_header_field with data[194903:194922]
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_header_value with data[194924:194952]
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_part_data with data[194956:194971]
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-23 15:38:41,935 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-09-23 15:38:42,366 - routes.audio - INFO - Processing session with data: {'transcript': '', 'metadata': {'session_id': 'session_20250923_153841_1432db67', 'timestamp': '2025-09-23T15:38:42.355507', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20250923_153841_1432db67.wav'}}
2025-09-23 15:38:42,366 - routes.audio - INFO - Extracted - transcript: None, session_id: session_20250923_153841_1432db67, session_type: medication
2025-09-23 15:38:42,366 - routes.audio - ERROR - Missing required data - transcript: False, session_id: True
2025-09-23 15:38:42,366 - routes.audio - ERROR - Unhandled exception in process_session: 400: Missing transcript or session_id
2025-09-23 15:38:42,369 - routes.audio - ERROR - Exception traceback: Traceback (most recent call last):
  File "/Users/amirr/Carelink-1/backend/routes/audio.py", line 127, in process_session
    raise HTTPException(status_code=400, detail="Missing transcript or session_id")
fastapi.exceptions.HTTPException: 400: Missing transcript or session_id

2025-09-24 16:13:30,697 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-24 16:13:30,706 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-09-24 16:13:30,706 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-09-24 16:13:30,706 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-24 16:13:30,706 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-09-24 16:13:30,706 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-09-24 16:13:30,706 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-24 16:13:30,706 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-24 16:13:30,708 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:45435]
2025-09-24 16:13:30,708 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-24 16:13:30,708 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-24 16:13:30,708 - python_multipart.multipart - DEBUG - Calling on_header_field with data[45479:45498]
2025-09-24 16:13:30,709 - python_multipart.multipart - DEBUG - Calling on_header_value with data[45500:45530]
2025-09-24 16:13:30,709 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-24 16:13:30,709 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-24 16:13:30,709 - python_multipart.multipart - DEBUG - Calling on_part_data with data[45534:45544]
2025-09-24 16:13:30,709 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-24 16:13:30,709 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-24 16:13:30,709 - python_multipart.multipart - DEBUG - Calling on_header_field with data[45588:45607]
2025-09-24 16:13:30,709 - python_multipart.multipart - DEBUG - Calling on_header_value with data[45609:45637]
2025-09-24 16:13:30,709 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-24 16:13:30,709 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-24 16:13:30,709 - python_multipart.multipart - DEBUG - Calling on_part_data with data[45641:45656]
2025-09-24 16:13:30,709 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-24 16:13:30,709 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-09-24 16:13:30,721 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20250924_161330_71630b6e.wav
2025-09-24 16:13:32,931 - routes.audio - INFO - Successfully converted recordings/session_20250924_161330_71630b6e.wav to recordings/session_20250924_161330_71630b6e_converted.wav
2025-09-24 16:13:32,931 - routes.audio - INFO - Starting transcription for file: recordings/session_20250924_161330_71630b6e_converted.wav
2025-09-24 16:13:33,448 - routes.audio - INFO - Transcription completed. Length: 52, Content: 
[00:00:00.000 --> 00:00:03.000]   Is this working?

2025-09-24 16:13:33,528 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:03.000]   Is this working?', 'metadata': {'session_id': 'session_20250924_161330_71630b6e', 'timestamp': '2025-09-24T16:13:33.450195', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20250924_161330_71630b6e_converted.wav'}}
2025-09-24 16:13:33,529 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:03.000]   Is this working?, session_id: session_20250924_161330_71630b6e, session_type: medication
2025-09-24 16:13:33,529 - routes.audio - INFO - Attempting to store analysis for session_id: session_20250924_161330_71630b6e
2025-09-24 16:13:33,529 - routes.audio - INFO - Successfully stored analysis for session_id: session_20250924_161330_71630b6e
2025-09-24 16:14:29,425 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-24 16:14:29,426 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:79159]
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_header_field with data[79203:79222]
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_header_value with data[79224:79254]
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_part_data with data[79258:79268]
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-24 16:14:29,427 - python_multipart.multipart - DEBUG - Calling on_header_field with data[79312:79331]
2025-09-24 16:14:29,428 - python_multipart.multipart - DEBUG - Calling on_header_value with data[79333:79361]
2025-09-24 16:14:29,428 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-24 16:14:29,428 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-24 16:14:29,428 - python_multipart.multipart - DEBUG - Calling on_part_data with data[79365:79380]
2025-09-24 16:14:29,428 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-24 16:14:29,428 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-09-24 16:14:29,438 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20250924_161429_78457555.wav
2025-09-24 16:14:29,738 - routes.audio - INFO - Successfully converted recordings/session_20250924_161429_78457555.wav to recordings/session_20250924_161429_78457555_converted.wav
2025-09-24 16:14:29,738 - routes.audio - INFO - Starting transcription for file: recordings/session_20250924_161429_78457555_converted.wav
2025-09-24 16:14:30,313 - routes.audio - INFO - Transcription completed. Length: 66, Content: 
[00:00:00.000 --> 00:00:04.640]   >> There you go. This working.

2025-09-24 16:14:30,338 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:04.640]   >> There you go. This working.', 'metadata': {'session_id': 'session_20250924_161429_78457555', 'timestamp': '2025-09-24T16:14:30.314167', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20250924_161429_78457555_converted.wav'}}
2025-09-24 16:14:30,338 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:04.640]   >> There you go. This working., session_id: session_20250924_161429_78457555, session_type: medication
2025-09-24 16:14:30,338 - routes.audio - INFO - Attempting to store analysis for session_id: session_20250924_161429_78457555
2025-09-24 16:14:30,339 - routes.audio - INFO - Successfully stored analysis for session_id: session_20250924_161429_78457555
2025-09-24 16:14:51,256 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-24 16:14:51,258 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-09-24 16:14:51,258 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-09-24 16:14:51,258 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-24 16:14:51,258 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-09-24 16:14:51,258 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-09-24 16:14:51,258 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-24 16:14:51,258 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-24 16:14:51,259 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:165748]
2025-09-24 16:14:51,259 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-24 16:14:51,259 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-24 16:14:51,259 - python_multipart.multipart - DEBUG - Calling on_header_field with data[165792:165811]
2025-09-24 16:14:51,259 - python_multipart.multipart - DEBUG - Calling on_header_value with data[165813:165843]
2025-09-24 16:14:51,259 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-24 16:14:51,259 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-24 16:14:51,259 - python_multipart.multipart - DEBUG - Calling on_part_data with data[165847:165857]
2025-09-24 16:14:51,259 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-24 16:14:51,260 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-24 16:14:51,260 - python_multipart.multipart - DEBUG - Calling on_header_field with data[165901:165920]
2025-09-24 16:14:51,260 - python_multipart.multipart - DEBUG - Calling on_header_value with data[165922:165950]
2025-09-24 16:14:51,260 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-24 16:14:51,260 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-24 16:14:51,260 - python_multipart.multipart - DEBUG - Calling on_part_data with data[165954:165969]
2025-09-24 16:14:51,260 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-24 16:14:51,260 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-09-24 16:14:51,262 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20250924_161451_cb161aec.wav
2025-09-24 16:14:51,443 - routes.audio - INFO - Successfully converted recordings/session_20250924_161451_cb161aec.wav to recordings/session_20250924_161451_cb161aec_converted.wav
2025-09-24 16:14:51,443 - routes.audio - INFO - Starting transcription for file: recordings/session_20250924_161451_cb161aec_converted.wav
2025-09-24 16:14:51,930 - routes.audio - INFO - Transcription completed. Length: 86, Content: 
[00:00:00.000 --> 00:00:07.460]   That's test3carilinkcarilink.dev, is this working?

2025-09-24 16:14:51,940 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:07.460]   That's test3carilinkcarilink.dev, is this working?", 'metadata': {'session_id': 'session_20250924_161451_cb161aec', 'timestamp': '2025-09-24T16:14:51.930807', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20250924_161451_cb161aec_converted.wav'}}
2025-09-24 16:14:51,940 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:07.460]   That's test3carilinkcarilink.dev, is this working?, session_id: session_20250924_161451_cb161aec, session_type: medication
2025-09-24 16:14:51,940 - routes.audio - INFO - Attempting to store analysis for session_id: session_20250924_161451_cb161aec
2025-09-24 16:14:51,941 - routes.audio - INFO - Successfully stored analysis for session_id: session_20250924_161451_cb161aec
2025-09-25 14:02:04,369 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:85311]
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_header_field with data[85355:85374]
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_header_value with data[85376:85406]
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_part_data with data[85410:85420]
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_header_field with data[85464:85483]
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_header_value with data[85485:85513]
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_part_data with data[85517:85532]
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-09-25 14:02:04,372 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-09-25 14:02:04,406 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20250925_140204_999d019e.wav
2025-09-25 14:02:05,225 - routes.audio - INFO - Successfully converted recordings/session_20250925_140204_999d019e.wav to recordings/session_20250925_140204_999d019e_converted.wav
2025-09-25 14:02:05,225 - routes.audio - INFO - Starting transcription for file: recordings/session_20250925_140204_999d019e_converted.wav
2025-09-25 14:02:06,161 - routes.audio - INFO - Transcription completed. Length: 79, Content: 
[00:00:00.000 --> 00:00:05.000]   I'm a stroke of a motion. Bye-bye. Bye-bye.

2025-09-25 14:02:06,754 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:05.000]   I'm a stroke of a motion. Bye-bye. Bye-bye.", 'metadata': {'session_id': 'session_20250925_140204_999d019e', 'timestamp': '2025-09-25T14:02:06.163828', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20250925_140204_999d019e_converted.wav'}}
2025-09-25 14:02:06,754 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:05.000]   I'm a stroke of a motion. Bye-bye. Bye-bye., session_id: session_20250925_140204_999d019e, session_type: medication
2025-09-25 14:02:06,754 - routes.audio - INFO - Attempting to store analysis for session_id: session_20250925_140204_999d019e
2025-09-25 14:02:06,755 - routes.audio - INFO - Successfully stored analysis for session_id: session_20250925_140204_999d019e
2025-11-01 23:01:04,775 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:151754]
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_header_field with data[151798:151817]
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_header_value with data[151819:151849]
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_part_data with data[151853:151863]
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_header_field with data[151907:151926]
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_header_value with data[151928:151956]
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:01:04,779 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:01:04,780 - python_multipart.multipart - DEBUG - Calling on_part_data with data[151960:151975]
2025-11-01 23:01:04,780 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:01:04,780 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-01 23:01:04,786 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251101_230104_dd3e7be0.wav
2025-11-01 23:01:06,811 - routes.audio - INFO - Successfully converted recordings/session_20251101_230104_dd3e7be0.wav to recordings/session_20251101_230104_dd3e7be0_converted.wav
2025-11-01 23:01:06,811 - routes.audio - INFO - Starting transcription for file: recordings/session_20251101_230104_dd3e7be0_converted.wav
2025-11-01 23:01:06,812 - routes.audio - ERROR - Transcription failed: Model not downloaded!
2025-11-01 23:01:06,816 - routes.audio - ERROR - Transcription error traceback: Traceback (most recent call last):
  File "/Users/amirr/Carelink-1/backend/routes/audio.py", line 85, in record_audio
    transcript = transcribe_audio(wav_file_path)
  File "/Users/amirr/Carelink-1/backend/transcribe.py", line 14, in transcribe_audio
    assert MODEL_PATH.exists(), "Model not downloaded!"
           ~~~~~~~~~~~~~~~~~^^
AssertionError: Model not downloaded!

2025-11-01 23:01:13,246 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:1068]
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_header_field with data[1112:1131]
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_header_value with data[1133:1163]
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_part_data with data[1167:1177]
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:01:13,247 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:01:13,248 - python_multipart.multipart - DEBUG - Calling on_header_field with data[1221:1240]
2025-11-01 23:01:13,248 - python_multipart.multipart - DEBUG - Calling on_header_value with data[1242:1270]
2025-11-01 23:01:13,248 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:01:13,248 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:01:13,248 - python_multipart.multipart - DEBUG - Calling on_part_data with data[1274:1289]
2025-11-01 23:01:13,248 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:01:13,248 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-01 23:01:13,249 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251101_230113_0207bdd3.wav
2025-11-01 23:01:13,383 - routes.audio - INFO - Successfully converted recordings/session_20251101_230113_0207bdd3.wav to recordings/session_20251101_230113_0207bdd3_converted.wav
2025-11-01 23:01:13,383 - routes.audio - INFO - Starting transcription for file: recordings/session_20251101_230113_0207bdd3_converted.wav
2025-11-01 23:01:13,383 - routes.audio - ERROR - Transcription failed: Model not downloaded!
2025-11-01 23:01:13,384 - routes.audio - ERROR - Transcription error traceback: Traceback (most recent call last):
  File "/Users/amirr/Carelink-1/backend/routes/audio.py", line 85, in record_audio
    transcript = transcribe_audio(wav_file_path)
  File "/Users/amirr/Carelink-1/backend/transcribe.py", line 14, in transcribe_audio
    assert MODEL_PATH.exists(), "Model not downloaded!"
           ~~~~~~~~~~~~~~~~~^^
AssertionError: Model not downloaded!

2025-11-01 23:01:16,808 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:43162]
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_header_field with data[43206:43225]
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_header_value with data[43227:43257]
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_part_data with data[43261:43271]
2025-11-01 23:01:16,809 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:01:16,810 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:01:16,810 - python_multipart.multipart - DEBUG - Calling on_header_field with data[43315:43334]
2025-11-01 23:01:16,810 - python_multipart.multipart - DEBUG - Calling on_header_value with data[43336:43364]
2025-11-01 23:01:16,810 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:01:16,810 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:01:16,810 - python_multipart.multipart - DEBUG - Calling on_part_data with data[43368:43383]
2025-11-01 23:01:16,810 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:01:16,810 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-01 23:01:16,811 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251101_230116_2638ec49.wav
2025-11-01 23:01:16,913 - routes.audio - INFO - Successfully converted recordings/session_20251101_230116_2638ec49.wav to recordings/session_20251101_230116_2638ec49_converted.wav
2025-11-01 23:01:16,913 - routes.audio - INFO - Starting transcription for file: recordings/session_20251101_230116_2638ec49_converted.wav
2025-11-01 23:01:16,913 - routes.audio - ERROR - Transcription failed: Model not downloaded!
2025-11-01 23:01:16,914 - routes.audio - ERROR - Transcription error traceback: Traceback (most recent call last):
  File "/Users/amirr/Carelink-1/backend/routes/audio.py", line 85, in record_audio
    transcript = transcribe_audio(wav_file_path)
  File "/Users/amirr/Carelink-1/backend/transcribe.py", line 14, in transcribe_audio
    assert MODEL_PATH.exists(), "Model not downloaded!"
           ~~~~~~~~~~~~~~~~~^^
AssertionError: Model not downloaded!

2025-11-01 23:03:48,152 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:95288]
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_header_field with data[95332:95351]
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_header_value with data[95353:95383]
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_part_data with data[95387:95397]
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_header_field with data[95441:95460]
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_header_value with data[95462:95490]
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_part_data with data[95494:95509]
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:03:48,154 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-01 23:03:48,159 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251101_230348_853dd8ac.wav
2025-11-01 23:03:48,433 - routes.audio - INFO - Successfully converted recordings/session_20251101_230348_853dd8ac.wav to recordings/session_20251101_230348_853dd8ac_converted.wav
2025-11-01 23:03:48,433 - routes.audio - INFO - Starting transcription for file: recordings/session_20251101_230348_853dd8ac_converted.wav
2025-11-01 23:03:49,486 - routes.audio - INFO - Transcription completed. Length: 56, Content: 
[00:00:00.000 --> 00:00:04.440]   Hello? Hello? Hello?

2025-11-01 23:03:49,506 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:04.440]   Hello? Hello? Hello?', 'metadata': {'session_id': 'session_20251101_230348_853dd8ac', 'timestamp': '2025-11-01T23:03:49.486770', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251101_230348_853dd8ac_converted.wav'}}
2025-11-01 23:03:49,506 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:04.440]   Hello? Hello? Hello?, session_id: session_20251101_230348_853dd8ac, session_type: medication
2025-11-01 23:03:49,506 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251101_230348_853dd8ac
2025-11-01 23:03:49,507 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251101_230348_853dd8ac
2025-11-01 23:34:59,464 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:34:59,470 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-01 23:34:59,472 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-01 23:34:59,473 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:34:59,473 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-01 23:34:59,473 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-01 23:34:59,473 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:34:59,473 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:34:59,478 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:164222]
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_header_field with data[164266:164285]
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_header_value with data[164287:164317]
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_part_data with data[164321:164331]
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_header_field with data[164375:164394]
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_header_value with data[164396:164424]
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_part_data with data[164428:164443]
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:34:59,479 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-01 23:34:59,502 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251101_233459_d0ac7372.wav
2025-11-01 23:35:00,260 - routes.audio - INFO - Successfully converted recordings/session_20251101_233459_d0ac7372.wav to recordings/session_20251101_233459_d0ac7372_converted.wav
2025-11-01 23:35:00,261 - routes.audio - INFO - Starting transcription for file: recordings/session_20251101_233459_d0ac7372_converted.wav
2025-11-01 23:35:00,973 - routes.audio - INFO - Transcription completed. Length: 151, Content: 
[00:00:00.000 --> 00:00:02.320]   (clears throat)
[00:00:02.320 --> 00:00:05.080]   (clears throat)
2025-11-01 23:35:01,305 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:02.320]   (clears throat)\n[00:00:02.320 --> 00:00:05.080]   (clears throat)\n[00:00:05.080 --> 00:00:07.180]   (clears throat)', 'metadata': {'session_id': 'session_20251101_233459_d0ac7372', 'timestamp': '2025-11-01T23:35:00.974249', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251101_233459_d0ac7372_converted.wav'}}
2025-11-01 23:35:01,305 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:02.320]   (clears throat)
[00:00:02.320 --> 00:00:05.080]   (clears throat)
, session_id: session_20251101_233459_d0ac7372, session_type: medication
2025-11-01 23:35:01,306 - routes.audio - INFO - Calling AI summarization for session session_20251101_233459_d0ac7372
2025-11-01 23:35:01,360 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:8000
2025-11-01 23:37:01,381 - routes.audio - ERROR - AI summarization error: HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=120)
2025-11-01 23:37:01,385 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251101_233459_d0ac7372
2025-11-01 23:37:01,392 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251101_233459_d0ac7372
2025-11-01 23:37:01,442 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:37:01,442 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-01 23:37:01,442 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-01 23:37:01,442 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:37:01,442 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-01 23:37:01,442 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-01 23:37:01,442 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:37:01,442 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:37:01,442 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:111762]
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_header_field with data[111806:111825]
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_header_value with data[111827:111857]
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_part_data with data[111861:111871]
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_header_field with data[111915:111934]
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_header_value with data[111936:111964]
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_part_data with data[111968:111983]
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-01 23:37:01,443 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-01 23:37:01,444 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251101_233701_db018b7f.wav
2025-11-01 23:37:01,688 - routes.audio - INFO - Successfully converted recordings/session_20251101_233701_db018b7f.wav to recordings/session_20251101_233701_db018b7f_converted.wav
2025-11-01 23:37:01,688 - routes.audio - INFO - Starting transcription for file: recordings/session_20251101_233701_db018b7f_converted.wav
2025-11-01 23:37:02,299 - routes.audio - INFO - Transcription completed. Length: 65, Content: 
[00:00:00.000 --> 00:00:06.320]   Hello? Yeah, can you hear me?

2025-11-01 23:37:02,350 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:06.320]   Hello? Yeah, can you hear me?', 'metadata': {'session_id': 'session_20251101_233701_db018b7f', 'timestamp': '2025-11-01T23:37:02.299646', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251101_233701_db018b7f_converted.wav'}}
2025-11-01 23:37:02,350 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:06.320]   Hello? Yeah, can you hear me?, session_id: session_20251101_233701_db018b7f, session_type: medication
2025-11-01 23:37:02,351 - routes.audio - INFO - Calling AI summarization for session session_20251101_233701_db018b7f
2025-11-01 23:37:02,352 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:8000
2025-11-01 23:39:02,360 - routes.audio - ERROR - AI summarization error: HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=120)
2025-11-01 23:39:02,366 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251101_233701_db018b7f
2025-11-01 23:39:02,373 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251101_233701_db018b7f
2025-11-02 13:13:20,780 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:227740]
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_header_field with data[227784:227803]
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_header_value with data[227805:227835]
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_part_data with data[227839:227849]
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_header_field with data[227893:227912]
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_header_value with data[227914:227942]
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_part_data with data[227946:227961]
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:13:20,782 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 13:13:20,786 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_131320_caf01e3d.wav
2025-11-02 13:13:21,399 - routes.audio - INFO - Successfully converted recordings/session_20251102_131320_caf01e3d.wav to recordings/session_20251102_131320_caf01e3d_converted.wav
2025-11-02 13:13:21,400 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_131320_caf01e3d_converted.wav
2025-11-02 13:13:36,801 - routes.audio - INFO - Transcription completed. Length: 168, Content: 
[00:00:00.000 --> 00:00:07.000]   Um, what question did I ask? What question did I ask? What questi
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:10530]
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_header_field with data[10574:10593]
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_header_value with data[10595:10625]
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_part_data with data[10629:10639]
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_header_field with data[10683:10702]
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_header_value with data[10704:10732]
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:36,816 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:13:36,817 - python_multipart.multipart - DEBUG - Calling on_part_data with data[10736:10751]
2025-11-02 13:13:36,817 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:13:36,817 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 13:13:36,818 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_131336_76f422eb.wav
2025-11-02 13:13:37,056 - routes.audio - INFO - Successfully converted recordings/session_20251102_131336_76f422eb.wav to recordings/session_20251102_131336_76f422eb_converted.wav
2025-11-02 13:13:37,056 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_131336_76f422eb_converted.wav
2025-11-02 13:13:37,535 - routes.audio - INFO - Transcription completed. Length: 49, Content: 
[00:00:00.000 --> 00:00:10.000]   [BLANK_AUDIO]

2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:7094]
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_header_field with data[7138:7157]
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_header_value with data[7159:7189]
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_part_data with data[7193:7203]
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_header_field with data[7247:7266]
2025-11-02 13:13:37,537 - python_multipart.multipart - DEBUG - Calling on_header_value with data[7268:7296]
2025-11-02 13:13:37,538 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:37,538 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:13:37,538 - python_multipart.multipart - DEBUG - Calling on_part_data with data[7300:7315]
2025-11-02 13:13:37,538 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:13:37,538 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 13:13:37,538 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_131337_edb5bbd9.wav
2025-11-02 13:13:37,581 - routes.audio - INFO - Successfully converted recordings/session_20251102_131337_edb5bbd9.wav to recordings/session_20251102_131337_edb5bbd9_converted.wav
2025-11-02 13:13:37,581 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_131337_edb5bbd9_converted.wav
2025-11-02 13:13:37,815 - routes.audio - INFO - Transcription completed. Length: 49, Content: 
[00:00:00.000 --> 00:00:10.000]   [BLANK_AUDIO]

2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:89037]
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_header_field with data[89081:89100]
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_header_value with data[89102:89132]
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_part_data with data[89136:89146]
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_header_field with data[89190:89209]
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_header_value with data[89211:89239]
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_part_data with data[89243:89258]
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:13:37,817 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 13:13:37,818 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_131337_048a6ecc.wav
2025-11-02 13:13:37,867 - routes.audio - INFO - Successfully converted recordings/session_20251102_131337_048a6ecc.wav to recordings/session_20251102_131337_048a6ecc_converted.wav
2025-11-02 13:13:37,867 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_131337_048a6ecc_converted.wav
2025-11-02 13:13:38,161 - routes.audio - INFO - Transcription completed. Length: 89, Content: 
[00:00:00.000 --> 00:00:03.400]   I'm going to take my meds, I'm going to take my meds.

2025-11-02 13:13:38,163 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:07.000]   Um, what question did I ask? What question did I ask? What question did I ask?\n[00:00:07.000 --> 00:00:10.000]   Did I take my meds?', 'metadata': {'session_id': 'session_20251102_131320_caf01e3d', 'timestamp': '2025-11-02T13:13:36.803890', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251102_131320_caf01e3d_converted.wav'}}
2025-11-02 13:13:38,163 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:07.000]   Um, what question did I ask? What question did I ask? What questio, session_id: session_20251102_131320_caf01e3d, session_type: medication
2025-11-02 13:13:38,163 - routes.audio - INFO - Calling AI summarization for session session_20251102_131320_caf01e3d
2025-11-02 13:13:38,180 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:8000
2025-11-02 13:15:38,193 - routes.audio - ERROR - AI summarization error: HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=120)
2025-11-02 13:15:38,196 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251102_131320_caf01e3d
2025-11-02 13:15:38,202 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251102_131320_caf01e3d
2025-11-02 13:15:38,210 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:10.000]   [BLANK_AUDIO]', 'metadata': {'session_id': 'session_20251102_131337_edb5bbd9', 'timestamp': '2025-11-02T13:13:37.815335', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251102_131337_edb5bbd9_converted.wav'}}
2025-11-02 13:15:38,210 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:10.000]   [BLANK_AUDIO], session_id: session_20251102_131337_edb5bbd9, session_type: medication
2025-11-02 13:15:38,210 - routes.audio - INFO - Calling AI summarization for session session_20251102_131337_edb5bbd9
2025-11-02 13:15:38,212 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:8000
2025-11-02 13:17:38,222 - routes.audio - ERROR - AI summarization error: HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=120)
2025-11-02 13:17:38,227 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251102_131337_edb5bbd9
2025-11-02 13:17:38,233 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251102_131337_edb5bbd9
2025-11-02 13:17:42,204 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:17:42,205 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 13:17:42,206 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 13:17:42,206 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:17:42,207 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 13:17:42,207 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 13:17:42,207 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:17:42,207 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:17:42,209 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:256000]
2025-11-02 13:17:42,210 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:192046]
2025-11-02 13:17:42,210 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:17:42,210 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:17:42,210 - python_multipart.multipart - DEBUG - Calling on_header_field with data[192090:192109]
2025-11-02 13:17:42,211 - python_multipart.multipart - DEBUG - Calling on_header_value with data[192111:192141]
2025-11-02 13:17:42,214 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:17:42,215 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:17:42,215 - python_multipart.multipart - DEBUG - Calling on_part_data with data[192145:192155]
2025-11-02 13:17:42,215 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:17:42,215 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:17:42,215 - python_multipart.multipart - DEBUG - Calling on_header_field with data[192199:192218]
2025-11-02 13:17:42,215 - python_multipart.multipart - DEBUG - Calling on_header_value with data[192220:192248]
2025-11-02 13:17:42,215 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:17:42,215 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:17:42,215 - python_multipart.multipart - DEBUG - Calling on_part_data with data[192252:192267]
2025-11-02 13:17:42,215 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:17:42,215 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 13:17:42,218 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_131742_804d0281.wav
2025-11-02 13:17:42,504 - routes.audio - INFO - Successfully converted recordings/session_20251102_131742_804d0281.wav to recordings/session_20251102_131742_804d0281_converted.wav
2025-11-02 13:17:42,505 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_131742_804d0281_converted.wav
2025-11-02 13:17:46,997 - routes.audio - INFO - Transcription completed. Length: 231, Content: 
[00:00:00.000 --> 00:00:09.040]   You know, what's up, medication session, did I take my meds, did 
2025-11-02 13:17:47,021 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:09.040]   You know, what's up, medication session, did I take my meds, did I take my meds, did\n[00:00:09.040 --> 00:00:19.120]   I take my meds, testing one, testing two, test three, does this really work?", 'metadata': {'session_id': 'session_20251102_131742_804d0281', 'timestamp': '2025-11-02T13:17:46.998285', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251102_131742_804d0281_converted.wav'}}
2025-11-02 13:17:47,021 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:09.040]   You know, what's up, medication session, did I take my meds, did I, session_id: session_20251102_131742_804d0281, session_type: medication
2025-11-02 13:17:47,021 - routes.audio - INFO - Calling AI summarization for session session_20251102_131742_804d0281
2025-11-02 13:17:47,029 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:8000
2025-11-02 13:20:56,759 - routes.audio - ERROR - AI summarization error: HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=180)
2025-11-02 13:20:57,137 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251102_131742_804d0281
2025-11-02 13:20:57,186 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251102_131742_804d0281
2025-11-02 13:26:04,488 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:256000]
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:4786]
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_header_field with data[4830:4849]
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_header_value with data[4851:4881]
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_part_data with data[4885:4895]
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_header_field with data[4939:4958]
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_header_value with data[4960:4988]
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_part_data with data[4992:5007]
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 13:26:04,489 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 13:26:04,493 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_132604_4624f1be.wav
2025-11-02 13:26:04,729 - routes.audio - INFO - Successfully converted recordings/session_20251102_132604_4624f1be.wav to recordings/session_20251102_132604_4624f1be_converted.wav
2025-11-02 13:26:04,729 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_132604_4624f1be_converted.wav
2025-11-02 13:26:05,409 - routes.audio - INFO - Transcription completed. Length: 168, Content: 
[00:00:00.000 --> 00:00:08.000]   Test number one, CareLink, test number two, deep seek if you're h
2025-11-02 13:26:05,424 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:08.000]   Test number one, CareLink, test number two, deep seek if you're hearing this.\n[00:00:08.000 --> 00:00:10.000]   Shout out deep seek.", 'metadata': {'session_id': 'session_20251102_132604_4624f1be', 'timestamp': '2025-11-02T13:26:05.409901', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251102_132604_4624f1be_converted.wav'}}
2025-11-02 13:26:05,425 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:08.000]   Test number one, CareLink, test number two, deep seek if you're he, session_id: session_20251102_132604_4624f1be, session_type: medication
2025-11-02 13:26:05,425 - routes.audio - INFO - Calling AI summarization for session session_20251102_132604_4624f1be
2025-11-02 13:26:05,443 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:8000
2025-11-02 13:29:05,454 - routes.audio - ERROR - AI summarization error: HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=180)
2025-11-02 13:29:05,458 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251102_132604_4624f1be
2025-11-02 13:29:05,466 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251102_132604_4624f1be
2025-11-02 14:38:46,697 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:38:46,701 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 14:38:46,701 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 14:38:46,701 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:38:46,702 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 14:38:46,702 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 14:38:46,702 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:38:46,702 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:238184]
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_header_field with data[238228:238247]
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_header_value with data[238249:238279]
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_part_data with data[238283:238293]
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_header_field with data[238337:238356]
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_header_value with data[238358:238386]
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_part_data with data[238390:238405]
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:38:46,703 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 14:38:46,713 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_143846_3b8219ea.wav
2025-11-02 14:38:47,392 - routes.audio - INFO - Successfully converted recordings/session_20251102_143846_3b8219ea.wav to recordings/session_20251102_143846_3b8219ea_converted.wav
2025-11-02 14:38:47,393 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_143846_3b8219ea_converted.wav
2025-11-02 14:38:48,280 - routes.audio - INFO - Transcription completed. Length: 198, Content: 
[00:00:00.000 --> 00:00:07.360]   Hello. Hello. Shout out. Shout out. Deep seek. Deep seek to go. D
2025-11-02 14:38:48,303 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:07.360]   Hello. Hello. Shout out. Shout out. Deep seek. Deep seek to go. Deep seek if you\n[00:00:07.360 --> 00:00:11.520]   analyzing this, give me a thumbs up. Thumbs up.', 'metadata': {'session_id': 'session_20251102_143846_3b8219ea', 'timestamp': '2025-11-02T14:38:48.280373', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251102_143846_3b8219ea_converted.wav'}}
2025-11-02 14:38:48,303 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:07.360]   Hello. Hello. Shout out. Shout out. Deep seek. Deep seek to go. De, session_id: session_20251102_143846_3b8219ea, session_type: medication
2025-11-02 14:38:48,303 - routes.audio - INFO - Calling AI summarization for session session_20251102_143846_3b8219ea
2025-11-02 14:38:48,356 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:8000
2025-11-02 14:41:48,366 - routes.audio - ERROR - AI summarization error: HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=180)
2025-11-02 14:41:48,368 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251102_143846_3b8219ea
2025-11-02 14:41:48,376 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251102_143846_3b8219ea
2025-11-02 14:46:59,282 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:243283]
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_header_field with data[243327:243346]
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_header_value with data[243348:243378]
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_part_data with data[243382:243392]
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_header_field with data[243436:243455]
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_header_value with data[243457:243485]
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_part_data with data[243489:243504]
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:46:59,285 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 14:46:59,292 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_144659_bd444a85.wav
2025-11-02 14:46:59,538 - routes.audio - INFO - Successfully converted recordings/session_20251102_144659_bd444a85.wav to recordings/session_20251102_144659_bd444a85_converted.wav
2025-11-02 14:46:59,538 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_144659_bd444a85_converted.wav
2025-11-02 14:47:00,332 - routes.audio - INFO - Transcription completed. Length: 293, Content: 
[00:00:00.000 --> 00:00:01.880]   (clears throat)
[00:00:01.880 --> 00:00:04.120]   Deep C, you bet
2025-11-02 14:47:00,353 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:01.880]   (clears throat)\n[00:00:01.880 --> 00:00:04.120]   Deep C, you better not fail me.\n[00:00:04.120 --> 00:00:05.720]   Test two.\n[00:00:05.720 --> 00:00:06.720]   Test five.\n[00:00:06.720 --> 00:00:10.640]   Deep C, if you're hearing this, give me a thumbs up.", 'metadata': {'session_id': 'session_20251102_144659_bd444a85', 'timestamp': '2025-11-02T14:47:00.332886', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251102_144659_bd444a85_converted.wav'}}
2025-11-02 14:47:00,353 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:01.880]   (clears throat)
[00:00:01.880 --> 00:00:04.120]   Deep C, you bett, session_id: session_20251102_144659_bd444a85, session_type: medication
2025-11-02 14:47:00,353 - routes.audio - INFO - Calling AI summarization for session session_20251102_144659_bd444a85
2025-11-02 14:47:00,353 - routes.audio - ERROR - AI summarization error: '\n  "summary"'
2025-11-02 14:47:00,353 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251102_144659_bd444a85
2025-11-02 14:47:00,354 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251102_144659_bd444a85
2025-11-02 14:50:12,286 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:251242]
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_header_field with data[251286:251305]
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_header_value with data[251307:251337]
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_part_data with data[251341:251351]
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_header_field with data[251395:251414]
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_header_value with data[251416:251444]
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_part_data with data[251448:251463]
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:50:12,288 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 14:50:12,291 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_145012_c40c4007.wav
2025-11-02 14:50:12,560 - routes.audio - INFO - Successfully converted recordings/session_20251102_145012_c40c4007.wav to recordings/session_20251102_145012_c40c4007_converted.wav
2025-11-02 14:50:12,560 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_145012_c40c4007_converted.wav
2025-11-02 14:50:13,262 - routes.audio - INFO - Transcription completed. Length: 234, Content: 
[00:00:00.000 --> 00:00:05.000]   Ah, ah, deep seek.
[00:00:05.000 --> 00:00:07.840]   What's up ga
2025-11-02 14:50:13,279 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:05.000]   Ah, ah, deep seek.\n[00:00:05.000 --> 00:00:07.840]   What's up gang?\n[00:00:07.840 --> 00:00:09.240]   Deep seek, test one.\n[00:00:09.240 --> 00:00:11.200]   If you hear this, give me a thumbs down.", 'metadata': {'session_id': 'session_20251102_145012_c40c4007', 'timestamp': '2025-11-02T14:50:13.263082', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251102_145012_c40c4007_converted.wav'}}
2025-11-02 14:50:13,279 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:05.000]   Ah, ah, deep seek.
[00:00:05.000 --> 00:00:07.840]   What's up gan, session_id: session_20251102_145012_c40c4007, session_type: medication
2025-11-02 14:50:13,279 - routes.audio - INFO - Calling AI summarization for session session_20251102_145012_c40c4007
2025-11-02 14:50:13,280 - routes.audio - ERROR - AI summarization error: '\n  "summary"'
2025-11-02 14:50:13,280 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251102_145012_c40c4007
2025-11-02 14:50:13,280 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251102_145012_c40c4007
2025-11-02 14:52:55,983 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:52:55,986 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 14:52:55,986 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 14:52:55,986 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:52:55,986 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 14:52:55,986 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 14:52:55,986 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:52:55,986 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:150032]
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_header_field with data[150076:150095]
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_header_value with data[150097:150127]
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_part_data with data[150131:150141]
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_header_field with data[150185:150204]
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_header_value with data[150206:150234]
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_part_data with data[150238:150253]
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:52:55,987 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 14:52:55,991 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_145255_bc0b3a94.wav
2025-11-02 14:52:56,243 - routes.audio - INFO - Successfully converted recordings/session_20251102_145255_bc0b3a94.wav to recordings/session_20251102_145255_bc0b3a94_converted.wav
2025-11-02 14:52:56,244 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_145255_bc0b3a94_converted.wav
2025-11-02 14:52:56,980 - routes.audio - INFO - Transcription completed. Length: 181, Content: 
[00:00:00.000 --> 00:00:03.000]   You see, better not fail me.
[00:00:03.000 --> 00:00:05.000]   Yo
2025-11-02 14:52:56,994 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:03.000]   You see, better not fail me.\n[00:00:03.000 --> 00:00:05.000]   You know what I'm saying?\n[00:00:05.000 --> 00:00:06.000]   Test one, thumbs down.", 'metadata': {'session_id': 'session_20251102_145255_bc0b3a94', 'timestamp': '2025-11-02T14:52:56.981252', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251102_145255_bc0b3a94_converted.wav'}}
2025-11-02 14:52:56,994 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:03.000]   You see, better not fail me.
[00:00:03.000 --> 00:00:05.000]   You, session_id: session_20251102_145255_bc0b3a94, session_type: medication
2025-11-02 14:52:56,994 - routes.audio - INFO - Calling AI summarization for session session_20251102_145255_bc0b3a94
2025-11-02 14:52:56,994 - routes.audio - ERROR - AI summarization error: '\n  "summary"'
2025-11-02 14:52:56,994 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251102_145255_bc0b3a94
2025-11-02 14:52:56,995 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251102_145255_bc0b3a94
2025-11-02 14:54:34,710 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:128765]
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_header_field with data[128809:128828]
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128830:128860]
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_part_data with data[128864:128874]
2025-11-02 14:54:34,714 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:54:34,715 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:54:34,715 - python_multipart.multipart - DEBUG - Calling on_header_field with data[128918:128937]
2025-11-02 14:54:34,715 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128939:128967]
2025-11-02 14:54:34,715 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:54:34,715 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:54:34,715 - python_multipart.multipart - DEBUG - Calling on_part_data with data[128971:128986]
2025-11-02 14:54:34,715 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:54:34,715 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 14:54:34,721 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_145434_1181b4c6.wav
2025-11-02 14:54:34,968 - routes.audio - INFO - Successfully converted recordings/session_20251102_145434_1181b4c6.wav to recordings/session_20251102_145434_1181b4c6_converted.wav
2025-11-02 14:54:34,969 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_145434_1181b4c6_converted.wav
2025-11-02 14:54:35,666 - routes.audio - INFO - Transcription completed. Length: 85, Content: 
[00:00:00.000 --> 00:00:05.720]   Ah, deep seek. You better not fail me. Thumbs up.

2025-11-02 14:54:35,681 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:05.720]   Ah, deep seek. You better not fail me. Thumbs up.', 'metadata': {'session_id': 'session_20251102_145434_1181b4c6', 'timestamp': '2025-11-02T14:54:35.667157', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251102_145434_1181b4c6_converted.wav'}}
2025-11-02 14:54:35,681 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:05.720]   Ah, deep seek. You better not fail me. Thumbs up., session_id: session_20251102_145434_1181b4c6, session_type: medication
2025-11-02 14:54:35,681 - routes.audio - INFO - Calling AI summarization for session session_20251102_145434_1181b4c6
2025-11-02 14:54:35,682 - routes.audio - ERROR - AI summarization error: '\n  "summary"'
2025-11-02 14:54:35,682 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251102_145434_1181b4c6
2025-11-02 14:54:35,683 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251102_145434_1181b4c6
2025-11-02 14:54:58,710 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:237515]
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_header_field with data[237559:237578]
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_header_value with data[237580:237610]
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_part_data with data[237614:237624]
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:54:58,711 - python_multipart.multipart - DEBUG - Calling on_header_field with data[237668:237687]
2025-11-02 14:54:58,712 - python_multipart.multipart - DEBUG - Calling on_header_value with data[237689:237717]
2025-11-02 14:54:58,712 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:54:58,712 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:54:58,712 - python_multipart.multipart - DEBUG - Calling on_part_data with data[237721:237736]
2025-11-02 14:54:58,712 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:54:58,712 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 14:54:58,720 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_145458_d92a0603.wav
2025-11-02 14:54:59,054 - routes.audio - INFO - Successfully converted recordings/session_20251102_145458_d92a0603.wav to recordings/session_20251102_145458_d92a0603_converted.wav
2025-11-02 14:54:59,055 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_145458_d92a0603_converted.wav
2025-11-02 14:54:59,708 - routes.audio - INFO - Transcription completed. Length: 49, Content: 
[00:00:00.000 --> 00:00:10.000]   [BLANK_AUDIO]

2025-11-02 14:54:59,736 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:10.000]   [BLANK_AUDIO]', 'metadata': {'session_id': 'session_20251102_145458_d92a0603', 'timestamp': '2025-11-02T14:54:59.708797', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251102_145458_d92a0603_converted.wav'}}
2025-11-02 14:54:59,736 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:10.000]   [BLANK_AUDIO], session_id: session_20251102_145458_d92a0603, session_type: medication
2025-11-02 14:54:59,736 - routes.audio - INFO - Calling AI summarization for session session_20251102_145458_d92a0603
2025-11-02 14:54:59,737 - routes.audio - ERROR - AI summarization error: '\n  "summary"'
2025-11-02 14:54:59,737 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251102_145458_d92a0603
2025-11-02 14:54:59,737 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251102_145458_d92a0603
2025-11-02 14:56:47,288 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:56:47,289 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 14:56:47,289 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 14:56:47,289 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:56:47,289 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 14:56:47,289 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 14:56:47,289 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:56:47,289 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:147404]
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:81613]
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_header_field with data[81657:81676]
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_header_value with data[81678:81708]
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_part_data with data[81712:81722]
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_header_field with data[81766:81785]
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_header_value with data[81787:81815]
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_part_data with data[81819:81834]
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:56:47,290 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 14:56:47,293 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_145647_dc80b148.wav
2025-11-02 14:56:47,555 - routes.audio - INFO - Successfully converted recordings/session_20251102_145647_dc80b148.wav to recordings/session_20251102_145647_dc80b148_converted.wav
2025-11-02 14:56:47,556 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_145647_dc80b148_converted.wav
2025-11-02 14:56:48,277 - routes.audio - INFO - Transcription completed. Length: 113, Content: 
[00:00:00.000 --> 00:00:11.160]   hello deep-seak you feel me this time sober man it's over you kno
2025-11-02 14:56:48,288 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:11.160]   hello deep-seak you feel me this time sober man it's over you know I'm saying", 'metadata': {'session_id': 'session_20251102_145647_dc80b148', 'timestamp': '2025-11-02T14:56:48.277646', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251102_145647_dc80b148_converted.wav'}}
2025-11-02 14:56:48,288 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:11.160]   hello deep-seak you feel me this time sober man it's over you know, session_id: session_20251102_145647_dc80b148, session_type: medication
2025-11-02 14:56:48,288 - routes.audio - INFO - Calling AI summarization for session session_20251102_145647_dc80b148
2025-11-02 14:56:48,340 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-02 14:56:51,003 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 None
2025-11-02 14:56:51,004 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "The transcript contains unclear speech that appears to be a brief, possibly garbled or mis-transcribed interaction. No clear medication administration or dementia patient conve'
2025-11-02 14:56:51,004 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "The transcript contains unclear speech that appears to be a brief, possibly garbled or mis-transcribed interaction. No clear medication administration or dementia patient conversation '
2025-11-02 14:56:51,004 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "The transcript contains unclear speech that appears to be a brief, possibly garbled or mis-transcribed interaction. No clear medication administration or dementia patient conversation '
2025-11-02 14:56:51,004 - routes.audio - INFO - AI summarization successful for session session_20251102_145647_dc80b148
2025-11-02 14:56:51,004 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251102_145647_dc80b148
2025-11-02 14:56:51,005 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251102_145647_dc80b148
2025-11-02 14:58:20,742 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:255448]
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:62]
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_header_field with data[106:125]
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_header_value with data[127:157]
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_part_data with data[161:171]
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_header_field with data[215:234]
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_header_value with data[236:264]
2025-11-02 14:58:20,748 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 14:58:20,749 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 14:58:20,749 - python_multipart.multipart - DEBUG - Calling on_part_data with data[268:283]
2025-11-02 14:58:20,749 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 14:58:20,749 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 14:58:20,754 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_145820_3c78bb51.wav
2025-11-02 14:58:21,183 - routes.audio - INFO - Successfully converted recordings/session_20251102_145820_3c78bb51.wav to recordings/session_20251102_145820_3c78bb51_converted.wav
2025-11-02 14:58:21,184 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_145820_3c78bb51_converted.wav
2025-11-02 14:58:22,410 - routes.audio - INFO - Transcription completed. Length: 235, Content: 
[00:00:00.000 --> 00:00:05.240]   deep-seek, if you're hearing this and you analyzing this medicati
2025-11-02 14:58:22,553 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:05.240]   deep-seek, if you're hearing this and you analyzing this medication summary, I\n[00:00:05.240 --> 00:00:11.760]   just want you to know, you can go. You know what I'm saying? Thumbs down. Thumbs down.", 'metadata': {'session_id': 'session_20251102_145820_3c78bb51', 'timestamp': '2025-11-02T14:58:22.412469', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251102_145820_3c78bb51_converted.wav'}}
2025-11-02 14:58:22,554 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:05.240]   deep-seek, if you're hearing this and you analyzing this medicatio, session_id: session_20251102_145820_3c78bb51, session_type: medication
2025-11-02 14:58:22,554 - routes.audio - INFO - Calling AI summarization for session session_20251102_145820_3c78bb51
2025-11-02 14:58:22,569 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-02 14:58:25,776 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 None
2025-11-02 14:58:25,784 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "The transcript contains only a brief, unclear message directed at the analyst (DeepSeek) about ending the analysis, with no actual conversation about medication administration '
2025-11-02 14:58:25,785 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "The transcript contains only a brief, unclear message directed at the analyst (DeepSeek) about ending the analysis, with no actual conversation about medication administration for a de'
2025-11-02 14:58:25,785 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "The transcript contains only a brief, unclear message directed at the analyst (DeepSeek) about ending the analysis, with no actual conversation about medication administration for a de'
2025-11-02 14:58:25,785 - routes.audio - INFO - AI summarization successful for session session_20251102_145820_3c78bb51
2025-11-02 14:58:25,785 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251102_145820_3c78bb51
2025-11-02 14:58:25,798 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251102_145820_3c78bb51
2025-11-02 15:02:03,413 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 15:02:03,414 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 15:02:03,414 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 15:02:03,414 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 15:02:03,414 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 15:02:03,414 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 15:02:03,414 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 15:02:03,414 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:238654]
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_header_field with data[238698:238717]
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_header_value with data[238719:238749]
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_part_data with data[238753:238763]
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_header_field with data[238807:238826]
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_header_value with data[238828:238856]
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_part_data with data[238860:238875]
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 15:02:03,415 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 15:02:03,422 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_150203_847178b1.wav
2025-11-02 15:02:03,726 - routes.audio - INFO - Successfully converted recordings/session_20251102_150203_847178b1.wav to recordings/session_20251102_150203_847178b1_converted.wav
2025-11-02 15:02:03,727 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_150203_847178b1_converted.wav
2025-11-02 15:02:04,461 - routes.audio - INFO - Transcription completed. Length: 174, Content: 
[00:00:00.000 --> 00:00:08.380]   You're getting this about medication, taking some weed nigga, you
2025-11-02 15:02:04,490 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:08.380]   You're getting this about medication, taking some weed nigga, you know what I'm saying?\n[00:00:08.380 --> 00:00:09.360]   Some weed nigga.", 'metadata': {'session_id': 'session_20251102_150203_847178b1', 'timestamp': '2025-11-02T15:02:04.461783', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251102_150203_847178b1_converted.wav'}}
2025-11-02 15:02:04,490 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:08.380]   You're getting this about medication, taking some weed nigga, you , session_id: session_20251102_150203_847178b1, session_type: medication
2025-11-02 15:02:04,490 - routes.audio - INFO - Calling AI summarization for session session_20251102_150203_847178b1
2025-11-02 15:02:04,493 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-02 15:02:09,563 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 None
2025-11-02 15:02:09,564 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "Brief interaction where caregiver attempts to initiate medication administration, but patient appears confused and uses inappropriate slang terminology, suggesting misunderstan'
2025-11-02 15:02:09,564 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "Brief interaction where caregiver attempts to initiate medication administration, but patient appears confused and uses inappropriate slang terminology, suggesting misunderstanding of '
2025-11-02 15:02:09,564 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "Brief interaction where caregiver attempts to initiate medication administration, but patient appears confused and uses inappropriate slang terminology, suggesting misunderstanding of '
2025-11-02 15:02:09,564 - routes.audio - INFO - AI summarization successful for session session_20251102_150203_847178b1
2025-11-02 15:02:09,564 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251102_150203_847178b1
2025-11-02 15:02:09,565 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251102_150203_847178b1
2025-11-02 15:06:40,767 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 15:06:40,770 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-02 15:06:40,770 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-02 15:06:40,770 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 15:06:40,770 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-02 15:06:40,770 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-02 15:06:40,770 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 15:06:40,770 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 15:06:40,770 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:255448]
2025-11-02 15:06:40,771 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:50917]
2025-11-02 15:06:40,771 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 15:06:40,771 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 15:06:40,771 - python_multipart.multipart - DEBUG - Calling on_header_field with data[50961:50980]
2025-11-02 15:06:40,771 - python_multipart.multipart - DEBUG - Calling on_header_value with data[50982:51012]
2025-11-02 15:06:40,771 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 15:06:40,771 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 15:06:40,772 - python_multipart.multipart - DEBUG - Calling on_part_data with data[51016:51026]
2025-11-02 15:06:40,772 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 15:06:40,772 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-02 15:06:40,772 - python_multipart.multipart - DEBUG - Calling on_header_field with data[51070:51089]
2025-11-02 15:06:40,772 - python_multipart.multipart - DEBUG - Calling on_header_value with data[51091:51119]
2025-11-02 15:06:40,772 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-02 15:06:40,772 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-02 15:06:40,772 - python_multipart.multipart - DEBUG - Calling on_part_data with data[51123:51138]
2025-11-02 15:06:40,772 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-02 15:06:40,772 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-02 15:06:40,778 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251102_150640_00aa803b.wav
2025-11-02 15:06:40,983 - routes.audio - INFO - Successfully converted recordings/session_20251102_150640_00aa803b.wav to recordings/session_20251102_150640_00aa803b_converted.wav
2025-11-02 15:06:40,983 - routes.audio - INFO - Starting transcription for file: recordings/session_20251102_150640_00aa803b_converted.wav
2025-11-02 15:06:41,633 - routes.audio - INFO - Transcription completed. Length: 205, Content: 
[00:00:00.000 --> 00:00:07.000]   Today we are going to be taking some meds for that the doctor pre
2025-11-02 15:06:41,654 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:07.000]   Today we are going to be taking some meds for that the doctor prescribed.\n[00:00:07.000 --> 00:00:10.000]   You know what I mean?\n[00:00:10.000 --> 00:00:11.000]   Yeah.', 'metadata': {'session_id': 'session_20251102_150640_00aa803b', 'timestamp': '2025-11-02T15:06:41.634123', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251102_150640_00aa803b_converted.wav'}}
2025-11-02 15:06:41,655 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:07.000]   Today we are going to be taking some meds for that the doctor pres, session_id: session_20251102_150640_00aa803b, session_type: medication
2025-11-02 15:06:41,655 - routes.audio - INFO - Calling AI summarization for session session_20251102_150640_00aa803b
2025-11-02 15:06:41,663 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-02 15:06:44,601 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 None
2025-11-02 15:06:44,602 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "Brief medication session where caregiver introduced the need to take prescribed medications, with patient providing simple acknowledgment.",\n  "tone": "calm",\n  "repeated_quest'
2025-11-02 15:06:44,602 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "Brief medication session where caregiver introduced the need to take prescribed medications, with patient providing simple acknowledgment.",\n  "tone": "calm",\n  "repeated_questions": ['
2025-11-02 15:06:44,602 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "Brief medication session where caregiver introduced the need to take prescribed medications, with patient providing simple acknowledgment.",\n  "tone": "calm",\n  "repeated_questions": ['
2025-11-02 15:06:44,602 - routes.audio - INFO - AI summarization successful for session session_20251102_150640_00aa803b
2025-11-02 15:06:44,602 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251102_150640_00aa803b
2025-11-02 15:06:44,602 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251102_150640_00aa803b
2025-11-03 20:03:44,541 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 20:03:44,542 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 20:03:44,542 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 20:03:44,542 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:03:44,543 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 20:03:44,543 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 20:03:44,543 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:03:44,543 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 20:03:44,543 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:255448]
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:184194]
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_header_field with data[184238:184257]
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_header_value with data[184259:184289]
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_part_data with data[184293:184301]
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_header_field with data[184345:184364]
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_header_value with data[184366:184394]
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_part_data with data[184398:184413]
2025-11-03 20:03:44,544 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 20:03:44,545 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 20:03:44,550 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_200344_5f4b7441.wav
2025-11-03 20:03:45,272 - routes.audio - INFO - Successfully converted recordings/session_20251103_200344_5f4b7441.wav to recordings/session_20251103_200344_5f4b7441_converted.wav
2025-11-03 20:03:45,272 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_200344_5f4b7441_converted.wav
2025-11-03 20:03:46,180 - routes.audio - INFO - Transcription completed. Length: 190, Content: 
[00:00:00.000 --> 00:00:13.280]   right. The next is your x right x is one due to x is minimum path
2025-11-03 20:03:46,201 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:13.280]   right. The next is your x right x is one due to x is minimum path this one from x to z you can go\n[00:00:14.240 --> 00:00:16.480]   Two, three, five, ten.', 'metadata': {'session_id': 'session_20251103_200344_5f4b7441', 'timestamp': '2025-11-03T20:03:46.181056', 'patient_id': 'default_patient', 'session_type': 'freeform', 'audio_file': 'session_20251103_200344_5f4b7441_converted.wav'}}
2025-11-03 20:03:46,202 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:13.280]   right. The next is your x right x is one due to x is minimum path , session_id: session_20251103_200344_5f4b7441, session_type: freeform
2025-11-03 20:03:46,202 - routes.audio - INFO - Calling AI summarization for session session_20251103_200344_5f4b7441
2025-11-03 20:03:46,227 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 20:03:46,229 - routes.audio - ERROR - AI summarization error: 503: Cannot connect to Ollama API. Make sure Ollama is running.
2025-11-03 20:03:46,229 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_200344_5f4b7441
2025-11-03 20:03:46,230 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_200344_5f4b7441
2025-11-03 20:05:31,141 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 20:05:31,145 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 20:05:31,146 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 20:05:31,146 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:05:31,146 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 20:05:31,146 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 20:05:31,146 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:05:31,146 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 20:05:31,146 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:255448]
2025-11-03 20:05:31,146 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:102530]
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_header_field with data[102574:102593]
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_header_value with data[102595:102625]
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_part_data with data[102629:102637]
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_header_field with data[102681:102700]
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_header_value with data[102702:102730]
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_part_data with data[102734:102749]
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 20:05:31,147 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 20:05:31,171 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_200531_c1d126c1.wav
2025-11-03 20:05:31,451 - routes.audio - INFO - Successfully converted recordings/session_20251103_200531_c1d126c1.wav to recordings/session_20251103_200531_c1d126c1_converted.wav
2025-11-03 20:05:31,451 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_200531_c1d126c1_converted.wav
2025-11-03 20:05:32,184 - routes.audio - INFO - Transcription completed. Length: 235, Content: 
[00:00:00.000 --> 00:00:02.200]   See, use this by Kistra algorithm.
[00:00:02.200 --> 00:00:07.200
2025-11-03 20:05:32,204 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:02.200]   See, use this by Kistra algorithm.\n[00:00:02.200 --> 00:00:07.200]   This is vector, use this problem for it.\n[00:00:07.200 --> 00:00:11.520]   All right.\n[00:00:11.520 --> 00:00:13.780]   (coughing)', 'metadata': {'session_id': 'session_20251103_200531_c1d126c1', 'timestamp': '2025-11-03T20:05:32.185403', 'patient_id': 'default_patient', 'session_type': 'freeform', 'audio_file': 'session_20251103_200531_c1d126c1_converted.wav'}}
2025-11-03 20:05:32,204 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:02.200]   See, use this by Kistra algorithm.
[00:00:02.200 --> 00:00:07.200], session_id: session_20251103_200531_c1d126c1, session_type: freeform
2025-11-03 20:05:32,204 - routes.audio - INFO - Calling AI summarization for session session_20251103_200531_c1d126c1
2025-11-03 20:05:32,209 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 20:05:32,267 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 400 66
2025-11-03 20:05:32,268 - routes.audio - ERROR - AI summarization error: 502: Ollama API error: 400
2025-11-03 20:05:32,268 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_200531_c1d126c1
2025-11-03 20:05:32,270 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_200531_c1d126c1
2025-11-03 20:11:26,587 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 20:11:26,588 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 20:11:26,588 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 20:11:26,588 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:11:26,588 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 20:11:26,588 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 20:11:26,588 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:11:26,588 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:255448]
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:60916]
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_header_field with data[60960:60979]
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_header_value with data[60981:61011]
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_part_data with data[61015:61023]
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_header_field with data[61067:61086]
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_header_value with data[61088:61116]
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_part_data with data[61120:61135]
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 20:11:26,589 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 20:11:26,594 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_201126_22d38493.wav
2025-11-03 20:11:27,212 - routes.audio - INFO - Successfully converted recordings/session_20251103_201126_22d38493.wav to recordings/session_20251103_201126_22d38493_converted.wav
2025-11-03 20:11:27,213 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_201126_22d38493_converted.wav
2025-11-03 20:11:27,991 - routes.audio - INFO - Transcription completed. Length: 236, Content: 
[00:00:00.000 --> 00:00:02.000]   Everybody knows good neighbors
[00:00:02.000 --> 00:00:04.680]   
2025-11-03 20:11:28,009 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:02.000]   Everybody knows good neighbors\n[00:00:02.000 --> 00:00:04.680]   And send off the information\n[00:00:04.680 --> 00:00:09.680]   You said it can't be huge concrete right any information come in and now", 'metadata': {'session_id': 'session_20251103_201126_22d38493', 'timestamp': '2025-11-03T20:11:27.991901', 'patient_id': 'default_patient', 'session_type': 'freeform', 'audio_file': 'session_20251103_201126_22d38493_converted.wav'}}
2025-11-03 20:11:28,009 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:02.000]   Everybody knows good neighbors
[00:00:02.000 --> 00:00:04.680]   A, session_id: session_20251103_201126_22d38493, session_type: freeform
2025-11-03 20:11:28,009 - routes.audio - INFO - Calling AI summarization for session session_20251103_201126_22d38493
2025-11-03 20:11:28,012 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 20:11:31,435 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 200 None
2025-11-03 20:11:31,438 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "Very brief, fragmented conversation with unclear themes. Patient speaks about neighbors and sending/receiving information in disjointed phrases that lack clear context or narra'
2025-11-03 20:11:31,438 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "Very brief, fragmented conversation with unclear themes. Patient speaks about neighbors and sending/receiving information in disjointed phrases that lack clear context or narrative flo'
2025-11-03 20:11:31,438 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "Very brief, fragmented conversation with unclear themes. Patient speaks about neighbors and sending/receiving information in disjointed phrases that lack clear context or narrative flo'
2025-11-03 20:11:31,438 - routes.audio - INFO - AI summarization successful for session session_20251103_201126_22d38493
2025-11-03 20:11:31,439 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_201126_22d38493
2025-11-03 20:11:31,442 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_201126_22d38493
2025-11-03 20:14:03,723 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 20:14:03,725 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 20:14:03,725 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 20:14:03,725 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:14:03,725 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 20:14:03,725 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 20:14:03,725 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:14:03,725 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 20:14:03,725 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:113419]
2025-11-03 20:14:03,725 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 20:14:03,726 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 20:14:03,726 - python_multipart.multipart - DEBUG - Calling on_header_field with data[113463:113482]
2025-11-03 20:14:03,726 - python_multipart.multipart - DEBUG - Calling on_header_value with data[113484:113514]
2025-11-03 20:14:03,726 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:14:03,726 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 20:14:03,726 - python_multipart.multipart - DEBUG - Calling on_part_data with data[113518:113526]
2025-11-03 20:14:03,726 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 20:14:03,726 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 20:14:03,726 - python_multipart.multipart - DEBUG - Calling on_header_field with data[113570:113589]
2025-11-03 20:14:03,726 - python_multipart.multipart - DEBUG - Calling on_header_value with data[113591:113619]
2025-11-03 20:14:03,726 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 20:14:03,726 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 20:14:03,726 - python_multipart.multipart - DEBUG - Calling on_part_data with data[113623:113638]
2025-11-03 20:14:03,726 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 20:14:03,726 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 20:14:03,729 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_201403_0f58aca5.wav
2025-11-03 20:14:03,979 - routes.audio - INFO - Successfully converted recordings/session_20251103_201403_0f58aca5.wav to recordings/session_20251103_201403_0f58aca5_converted.wav
2025-11-03 20:14:03,979 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_201403_0f58aca5_converted.wav
2025-11-03 20:14:04,667 - routes.audio - INFO - Transcription completed. Length: 219, Content: 
[00:00:00.000 --> 00:00:02.100]   What's the suspected running, how about that?
[00:00:02.100 --> 0
2025-11-03 20:14:04,687 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:02.100]   What's the suspected running, how about that?\n[00:00:02.100 --> 00:00:02.800]   What are they?\n[00:00:02.800 --> 00:00:03.400]   What are they?\n[00:00:03.400 --> 00:00:03.900]   What?", 'metadata': {'session_id': 'session_20251103_201403_0f58aca5', 'timestamp': '2025-11-03T20:14:04.667687', 'patient_id': 'default_patient', 'session_type': 'freeform', 'audio_file': 'session_20251103_201403_0f58aca5_converted.wav'}}
2025-11-03 20:14:04,687 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:02.100]   What's the suspected running, how about that?
[00:00:02.100 --> 00, session_id: session_20251103_201403_0f58aca5, session_type: freeform
2025-11-03 20:14:04,687 - routes.audio - INFO - Calling AI summarization for session session_20251103_201403_0f58aca5
2025-11-03 20:14:04,695 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 20:14:08,953 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 200 None
2025-11-03 20:14:08,953 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "A very brief, incomplete conversation fragment where the patient appears to be asking about something \'running\' and then repeats questions seeking clarification. The conversati'
2025-11-03 20:14:08,953 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "A very brief, incomplete conversation fragment where the patient appears to be asking about something \'running\' and then repeats questions seeking clarification. The conversation lacks'
2025-11-03 20:14:08,953 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "A very brief, incomplete conversation fragment where the patient appears to be asking about something \'running\' and then repeats questions seeking clarification. The conversation lacks'
2025-11-03 20:14:08,954 - routes.audio - INFO - AI summarization successful for session session_20251103_201403_0f58aca5
2025-11-03 20:14:08,954 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_201403_0f58aca5
2025-11-03 20:14:08,955 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_201403_0f58aca5
2025-11-03 21:50:48,908 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:50:48,913 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:174646]
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_header_field with data[174690:174709]
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_header_value with data[174711:174741]
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_part_data with data[174745:174753]
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_header_field with data[174797:174816]
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_header_value with data[174818:174846]
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_part_data with data[174850:174865]
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:50:48,914 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 21:50:48,926 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_215048_8a4fb283.wav
2025-11-03 21:50:49,493 - routes.audio - INFO - Successfully converted recordings/session_20251103_215048_8a4fb283.wav to recordings/session_20251103_215048_8a4fb283_converted.wav
2025-11-03 21:50:49,493 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_215048_8a4fb283_converted.wav
2025-11-03 21:50:50,383 - routes.audio - INFO - Transcription completed. Length: 128, Content: 
[00:00:00.000 --> 00:00:03.000]   You better not feel me.
[00:00:03.000 --> 00:00:06.000]   Hello, 
2025-11-03 21:50:50,419 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:03.000]   You better not feel me.\n[00:00:03.000 --> 00:00:06.000]   Hello, hello, hello, hello, hello.', 'metadata': {'session_id': 'session_20251103_215048_8a4fb283', 'timestamp': '2025-11-03T21:50:50.384375', 'patient_id': 'default_patient', 'session_type': 'freeform', 'audio_file': 'session_20251103_215048_8a4fb283_converted.wav'}}
2025-11-03 21:50:50,419 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:03.000]   You better not feel me.
[00:00:03.000 --> 00:00:06.000]   Hello, h, session_id: session_20251103_215048_8a4fb283, session_type: freeform
2025-11-03 21:50:50,419 - routes.audio - INFO - Calling AI summarization for session session_20251103_215048_8a4fb283
2025-11-03 21:50:50,464 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 21:50:56,127 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 200 None
2025-11-03 21:50:56,130 - routes.summarize - INFO - Raw response (first 200 chars): '{\n  "summary": "Extremely brief interaction containing an unclear statement followed by a repetitive greeting.",\n  "tone": "neutral",\n  "repeated_questions": [],\n  "key_moments": ["Initial unclear sta'
2025-11-03 21:50:56,130 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "Extremely brief interaction containing an unclear statement followed by a repetitive greeting.",\n  "tone": "neutral",\n  "repeated_questions": [],\n  "key_moments": ["Initial unclear sta'
2025-11-03 21:50:56,131 - routes.summarize - ERROR - JSON parsing failed: Missing required field: repetition_json
2025-11-03 21:50:56,131 - routes.summarize - ERROR - Failed to parse text: '{\n  "summary": "Extremely brief interaction containing an unclear statement followed by a repetitive greeting.",\n  "tone": "neutral",\n  "repeated_questions": [],\n  "key_moments": ["Initial unclear statement: \'You better not feel me.\'", "Repetitive greeting: \'Hello, hello, hello, hello, hello.\'"],\n  "tags": ["repetitive speech", "unclear expression", "limited engagement"],\n  "conversation_themes": ["Greeting"],\n  "agitation_score": 0.0,\n  "mood_label": "neutral",\n  "suggestions": "Due to the limi'
2025-11-03 21:50:56,131 - routes.audio - INFO - DEBUG - parsed_response type: <class 'dict'>
2025-11-03 21:50:56,131 - routes.audio - INFO - DEBUG - parsed_response keys: dict_keys(['summary', 'repetition_json', 'agitation_score', 'mood_label', 'suggestions'])
2025-11-03 21:50:56,131 - routes.audio - INFO - DEBUG - raw_summary type: <class 'str'>, first 200 chars: '{\n  "summary": "Extremely brief interaction containing an unclear statement followed by a repetitive greeting.",\n  "tone": "neutral",\n  "repeated_questions": [],\n  "key_moments": ["Initial unclear sta'
2025-11-03 21:50:56,131 - routes.audio - INFO - DEBUG - clean_summary after cleanup, first 200 chars: '{\n  "summary": "Extremely brief interaction containing an unclear statement followed by a repetitive greeting.",\n  "tone": "neutral",\n  "repeated_questions": [],\n  "key_moments": ["Initial unclear sta'
2025-11-03 21:50:56,131 - routes.audio - INFO - AI summarization successful for session session_20251103_215048_8a4fb283
2025-11-03 21:50:56,131 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_215048_8a4fb283
2025-11-03 21:50:56,132 - routes.audio - INFO - DEBUG - About to store summary in DB, first 200 chars: '{\n  "summary": "Extremely brief interaction containing an unclear statement followed by a repetitive greeting.",\n  "tone": "neutral",\n  "repeated_questions": [],\n  "key_moments": ["Initial unclear sta'
2025-11-03 21:50:56,134 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_215048_8a4fb283
2025-11-03 21:52:37,630 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:52:37,631 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:125199]
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_header_field with data[125243:125262]
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_header_value with data[125264:125294]
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_part_data with data[125298:125306]
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_header_field with data[125350:125369]
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_header_value with data[125371:125399]
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_part_data with data[125403:125418]
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:52:37,632 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 21:52:37,639 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_215237_a5d9038e.wav
2025-11-03 21:52:37,919 - routes.audio - INFO - Successfully converted recordings/session_20251103_215237_a5d9038e.wav to recordings/session_20251103_215237_a5d9038e_converted.wav
2025-11-03 21:52:37,920 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_215237_a5d9038e_converted.wav
2025-11-03 21:52:39,281 - routes.audio - INFO - Transcription completed. Length: 67, Content: 
[00:00:00.000 --> 00:00:04.920]   Blah blah blah. Ch-ch-ch-ch-ch.

2025-11-03 21:52:39,296 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:04.920]   Blah blah blah. Ch-ch-ch-ch-ch.', 'metadata': {'session_id': 'session_20251103_215237_a5d9038e', 'timestamp': '2025-11-03T21:52:39.281650', 'patient_id': 'default_patient', 'session_type': 'freeform', 'audio_file': 'session_20251103_215237_a5d9038e_converted.wav'}}
2025-11-03 21:52:39,296 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:04.920]   Blah blah blah. Ch-ch-ch-ch-ch., session_id: session_20251103_215237_a5d9038e, session_type: freeform
2025-11-03 21:52:39,296 - routes.audio - INFO - Calling AI summarization for session session_20251103_215237_a5d9038e
2025-11-03 21:52:39,321 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 21:52:44,673 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 200 None
2025-11-03 21:52:44,674 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "The transcript contains only non-verbal vocalizations without discernible words or meaningful conversation content. No substantive dialogue occurred that can be analyzed for co'
2025-11-03 21:52:44,674 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "The transcript contains only non-verbal vocalizations without discernible words or meaningful conversation content. No substantive dialogue occurred that can be analyzed for cognitive '
2025-11-03 21:52:44,674 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "The transcript contains only non-verbal vocalizations without discernible words or meaningful conversation content. No substantive dialogue occurred that can be analyzed for cognitive '
2025-11-03 21:52:44,674 - routes.audio - INFO - DEBUG - parsed_response type: <class 'dict'>
2025-11-03 21:52:44,674 - routes.audio - INFO - DEBUG - parsed_response keys: dict_keys(['summary', 'repetition_json', 'agitation_score', 'mood_label', 'suggestions'])
2025-11-03 21:52:44,674 - routes.audio - INFO - DEBUG - raw_summary type: <class 'str'>, first 200 chars: 'The transcript contains only non-verbal vocalizations without discernible words or meaningful conversation content. No substantive dialogue occurred that can be analyzed for cognitive assessment.'
2025-11-03 21:52:44,674 - routes.audio - INFO - DEBUG - clean_summary after cleanup, first 200 chars: 'The transcript contains only non-verbal vocalizations without discernible words or meaningful conversation content. No substantive dialogue occurred that can be analyzed for cognitive assessment.'
2025-11-03 21:52:44,674 - routes.audio - INFO - AI summarization successful for session session_20251103_215237_a5d9038e
2025-11-03 21:52:44,674 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_215237_a5d9038e
2025-11-03 21:52:44,674 - routes.audio - INFO - DEBUG - About to store summary in DB, first 200 chars: 'The transcript contains only non-verbal vocalizations without discernible words or meaningful conversation content. No substantive dialogue occurred that can be analyzed for cognitive assessment.'
2025-11-03 21:52:44,675 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_215237_a5d9038e
2025-11-03 21:53:01,573 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:53:01,574 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 21:53:01,574 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 21:53:01,574 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:01,574 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 21:53:01,574 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 21:53:01,574 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:01,574 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:49638]
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_header_field with data[49682:49701]
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_header_value with data[49703:49733]
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_part_data with data[49737:49745]
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_header_field with data[49789:49808]
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_header_value with data[49810:49838]
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_part_data with data[49842:49857]
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:53:01,575 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 21:53:01,577 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_215301_deb6adfa.wav
2025-11-03 21:53:01,761 - routes.audio - INFO - Successfully converted recordings/session_20251103_215301_deb6adfa.wav to recordings/session_20251103_215301_deb6adfa_converted.wav
2025-11-03 21:53:01,761 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_215301_deb6adfa_converted.wav
2025-11-03 21:53:02,290 - routes.audio - INFO - Transcription completed. Length: 63, Content: 
[00:00:00.000 --> 00:00:02.000]   All right, what's up final?

2025-11-03 21:53:02,312 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:02.000]   All right, what's up final?", 'metadata': {'session_id': 'session_20251103_215301_deb6adfa', 'timestamp': '2025-11-03T21:53:02.291050', 'patient_id': 'default_patient', 'session_type': 'freeform', 'audio_file': 'session_20251103_215301_deb6adfa_converted.wav'}}
2025-11-03 21:53:02,312 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:02.000]   All right, what's up final?, session_id: session_20251103_215301_deb6adfa, session_type: freeform
2025-11-03 21:53:02,312 - routes.audio - INFO - Calling AI summarization for session session_20251103_215301_deb6adfa
2025-11-03 21:53:02,317 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 21:53:05,664 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 200 None
2025-11-03 21:53:05,665 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "Very brief conversation opening with a friendly check-in. The conversation consists of a single greeting phrase.",\n  "tone": "neutral",\n  "repeated_questions": [],\n  "key_momen'
2025-11-03 21:53:05,666 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "Very brief conversation opening with a friendly check-in. The conversation consists of a single greeting phrase.",\n  "tone": "neutral",\n  "repeated_questions": [],\n  "key_moments": ["C'
2025-11-03 21:53:05,666 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "Very brief conversation opening with a friendly check-in. The conversation consists of a single greeting phrase.",\n  "tone": "neutral",\n  "repeated_questions": [],\n  "key_moments": ["C'
2025-11-03 21:53:05,666 - routes.audio - INFO - DEBUG - parsed_response type: <class 'dict'>
2025-11-03 21:53:05,666 - routes.audio - INFO - DEBUG - parsed_response keys: dict_keys(['summary', 'repetition_json', 'agitation_score', 'mood_label', 'suggestions'])
2025-11-03 21:53:05,666 - routes.audio - INFO - DEBUG - raw_summary type: <class 'str'>, first 200 chars: 'Very brief conversation opening with a friendly check-in. The conversation consists of a single greeting phrase.'
2025-11-03 21:53:05,667 - routes.audio - INFO - DEBUG - clean_summary after cleanup, first 200 chars: 'Very brief conversation opening with a friendly check-in. The conversation consists of a single greeting phrase.'
2025-11-03 21:53:05,667 - routes.audio - INFO - AI summarization successful for session session_20251103_215301_deb6adfa
2025-11-03 21:53:05,667 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_215301_deb6adfa
2025-11-03 21:53:05,667 - routes.audio - INFO - DEBUG - About to store summary in DB, first 200 chars: 'Very brief conversation opening with a friendly check-in. The conversation consists of a single greeting phrase.'
2025-11-03 21:53:05,669 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_215301_deb6adfa
2025-11-03 21:53:15,962 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:53:15,964 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 21:53:15,964 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 21:53:15,964 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:15,964 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 21:53:15,964 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 21:53:15,964 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:15,964 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:53:15,965 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:221945]
2025-11-03 21:53:15,965 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:53:15,965 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:53:15,965 - python_multipart.multipart - DEBUG - Calling on_header_field with data[221989:222008]
2025-11-03 21:53:15,965 - python_multipart.multipart - DEBUG - Calling on_header_value with data[222010:222040]
2025-11-03 21:53:15,965 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:15,965 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:53:15,965 - python_multipart.multipart - DEBUG - Calling on_part_data with data[222044:222052]
2025-11-03 21:53:15,966 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:53:15,966 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:53:15,966 - python_multipart.multipart - DEBUG - Calling on_header_field with data[222096:222115]
2025-11-03 21:53:15,966 - python_multipart.multipart - DEBUG - Calling on_header_value with data[222117:222145]
2025-11-03 21:53:15,966 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:15,966 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:53:15,966 - python_multipart.multipart - DEBUG - Calling on_part_data with data[222149:222164]
2025-11-03 21:53:15,966 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:53:15,966 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 21:53:15,969 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_215315_282f3e95.wav
2025-11-03 21:53:16,148 - routes.audio - INFO - Successfully converted recordings/session_20251103_215315_282f3e95.wav to recordings/session_20251103_215315_282f3e95_converted.wav
2025-11-03 21:53:16,148 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_215315_282f3e95_converted.wav
2025-11-03 21:53:16,692 - routes.audio - INFO - Transcription completed. Length: 193, Content: 
[00:00:00.000 --> 00:00:06.000]   Caroling final test one, you know what I'm saying? Don't time out
2025-11-03 21:53:16,700 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:06.000]   Caroling final test one, you know what I'm saying? Don't time out. Don't do anything.\n[00:00:06.000 --> 00:00:08.000]   Let me know what the transcript says.", 'metadata': {'session_id': 'session_20251103_215315_282f3e95', 'timestamp': '2025-11-03T21:53:16.692771', 'patient_id': 'default_patient', 'session_type': 'freeform', 'audio_file': 'session_20251103_215315_282f3e95_converted.wav'}}
2025-11-03 21:53:16,700 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:06.000]   Caroling final test one, you know what I'm saying? Don't time out., session_id: session_20251103_215315_282f3e95, session_type: freeform
2025-11-03 21:53:16,700 - routes.audio - INFO - Calling AI summarization for session session_20251103_215315_282f3e95
2025-11-03 21:53:16,702 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 21:53:19,787 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 200 None
2025-11-03 21:53:19,788 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "Very brief audio check where the speaker is testing recording equipment and requesting transcript feedback.",\n  "tone": "instructional",\n  "repeated_questions": [],\n  "key_mome'
2025-11-03 21:53:19,788 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "Very brief audio check where the speaker is testing recording equipment and requesting transcript feedback.",\n  "tone": "instructional",\n  "repeated_questions": [],\n  "key_moments": ["'
2025-11-03 21:53:19,788 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "Very brief audio check where the speaker is testing recording equipment and requesting transcript feedback.",\n  "tone": "instructional",\n  "repeated_questions": [],\n  "key_moments": ["'
2025-11-03 21:53:19,788 - routes.audio - INFO - DEBUG - parsed_response type: <class 'dict'>
2025-11-03 21:53:19,788 - routes.audio - INFO - DEBUG - parsed_response keys: dict_keys(['summary', 'repetition_json', 'agitation_score', 'mood_label', 'suggestions'])
2025-11-03 21:53:19,789 - routes.audio - INFO - DEBUG - raw_summary type: <class 'str'>, first 200 chars: 'Very brief audio check where the speaker is testing recording equipment and requesting transcript feedback.'
2025-11-03 21:53:19,789 - routes.audio - INFO - DEBUG - clean_summary after cleanup, first 200 chars: 'Very brief audio check where the speaker is testing recording equipment and requesting transcript feedback.'
2025-11-03 21:53:19,789 - routes.audio - INFO - AI summarization successful for session session_20251103_215315_282f3e95
2025-11-03 21:53:19,789 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_215315_282f3e95
2025-11-03 21:53:19,789 - routes.audio - INFO - DEBUG - About to store summary in DB, first 200 chars: 'Very brief audio check where the speaker is testing recording equipment and requesting transcript feedback.'
2025-11-03 21:53:19,790 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_215315_282f3e95
2025-11-03 21:53:36,882 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:178715]
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_header_field with data[178759:178778]
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_header_value with data[178780:178810]
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_part_data with data[178814:178822]
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_header_field with data[178866:178885]
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_header_value with data[178887:178915]
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_part_data with data[178919:178934]
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:53:36,883 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 21:53:36,884 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_215336_9e3c4047.wav
2025-11-03 21:53:37,080 - routes.audio - INFO - Successfully converted recordings/session_20251103_215336_9e3c4047.wav to recordings/session_20251103_215336_9e3c4047_converted.wav
2025-11-03 21:53:37,081 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_215336_9e3c4047_converted.wav
2025-11-03 21:53:37,637 - routes.audio - INFO - Transcription completed. Length: 67, Content: 
[00:00:00.000 --> 00:00:02.700]   Aggressive it's very aggressive

2025-11-03 21:53:37,644 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:02.700]   Aggressive it's very aggressive", 'metadata': {'session_id': 'session_20251103_215336_9e3c4047', 'timestamp': '2025-11-03T21:53:37.637634', 'patient_id': 'default_patient', 'session_type': 'freeform', 'audio_file': 'session_20251103_215336_9e3c4047_converted.wav'}}
2025-11-03 21:53:37,644 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:02.700]   Aggressive it's very aggressive, session_id: session_20251103_215336_9e3c4047, session_type: freeform
2025-11-03 21:53:37,644 - routes.audio - INFO - Calling AI summarization for session session_20251103_215336_9e3c4047
2025-11-03 21:53:37,645 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 21:53:41,005 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 200 None
2025-11-03 21:53:41,006 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "Very brief interaction consisting of a single statement describing something as aggressive. The patient appears to be making an observation or expressing concern about a percei'
2025-11-03 21:53:41,006 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "Very brief interaction consisting of a single statement describing something as aggressive. The patient appears to be making an observation or expressing concern about a perceived thre'
2025-11-03 21:53:41,006 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "Very brief interaction consisting of a single statement describing something as aggressive. The patient appears to be making an observation or expressing concern about a perceived thre'
2025-11-03 21:53:41,006 - routes.audio - INFO - DEBUG - parsed_response type: <class 'dict'>
2025-11-03 21:53:41,006 - routes.audio - INFO - DEBUG - parsed_response keys: dict_keys(['summary', 'repetition_json', 'agitation_score', 'mood_label', 'suggestions'])
2025-11-03 21:53:41,006 - routes.audio - INFO - DEBUG - raw_summary type: <class 'str'>, first 200 chars: 'Very brief interaction consisting of a single statement describing something as aggressive. The patient appears to be making an observation or expressing concern about a perceived threat or behavior.'
2025-11-03 21:53:41,006 - routes.audio - INFO - DEBUG - clean_summary after cleanup, first 200 chars: 'Very brief interaction consisting of a single statement describing something as aggressive. The patient appears to be making an observation or expressing concern about a perceived threat or behavior.'
2025-11-03 21:53:41,006 - routes.audio - INFO - AI summarization successful for session session_20251103_215336_9e3c4047
2025-11-03 21:53:41,007 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_215336_9e3c4047
2025-11-03 21:53:41,007 - routes.audio - INFO - DEBUG - About to store summary in DB, first 200 chars: 'Very brief interaction consisting of a single statement describing something as aggressive. The patient appears to be making an observation or expressing concern about a perceived threat or behavior.'
2025-11-03 21:53:41,008 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_215336_9e3c4047
2025-11-03 21:53:59,394 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:53:59,395 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 21:53:59,395 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 21:53:59,395 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:59,395 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 21:53:59,395 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 21:53:59,395 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:59,395 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:53:59,396 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:255448]
2025-11-03 21:53:59,397 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:256000]
2025-11-03 21:53:59,397 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:29815]
2025-11-03 21:53:59,397 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:53:59,397 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:53:59,397 - python_multipart.multipart - DEBUG - Calling on_header_field with data[29859:29878]
2025-11-03 21:53:59,397 - python_multipart.multipart - DEBUG - Calling on_header_value with data[29880:29910]
2025-11-03 21:53:59,397 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:59,397 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:53:59,397 - python_multipart.multipart - DEBUG - Calling on_part_data with data[29914:29922]
2025-11-03 21:53:59,397 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:53:59,397 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:53:59,397 - python_multipart.multipart - DEBUG - Calling on_header_field with data[29966:29985]
2025-11-03 21:53:59,397 - python_multipart.multipart - DEBUG - Calling on_header_value with data[29987:30015]
2025-11-03 21:53:59,398 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:53:59,398 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:53:59,398 - python_multipart.multipart - DEBUG - Calling on_part_data with data[30019:30034]
2025-11-03 21:53:59,398 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:53:59,398 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 21:53:59,401 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_215359_e1cd85cb.wav
2025-11-03 21:53:59,591 - routes.audio - INFO - Successfully converted recordings/session_20251103_215359_e1cd85cb.wav to recordings/session_20251103_215359_e1cd85cb_converted.wav
2025-11-03 21:53:59,591 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_215359_e1cd85cb_converted.wav
2025-11-03 21:54:00,126 - routes.audio - INFO - Transcription completed. Length: 47, Content: 
[00:00:00.000 --> 00:00:22.000]   [ Silence ]

2025-11-03 21:54:00,136 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:22.000]   [ Silence ]', 'metadata': {'session_id': 'session_20251103_215359_e1cd85cb', 'timestamp': '2025-11-03T21:54:00.127316', 'patient_id': 'default_patient', 'session_type': 'freeform', 'audio_file': 'session_20251103_215359_e1cd85cb_converted.wav'}}
2025-11-03 21:54:00,136 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:22.000]   [ Silence ], session_id: session_20251103_215359_e1cd85cb, session_type: freeform
2025-11-03 21:54:00,136 - routes.audio - INFO - Calling AI summarization for session session_20251103_215359_e1cd85cb
2025-11-03 21:54:00,138 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 21:54:04,744 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 200 None
2025-11-03 21:54:04,745 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "The transcript consists entirely of silence with no verbal interaction from the patient.",\n  "tone": "unresponsive",\n  "repeated_questions": [],\n  "key_moments": ["22 seconds o'
2025-11-03 21:54:04,745 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "The transcript consists entirely of silence with no verbal interaction from the patient.",\n  "tone": "unresponsive",\n  "repeated_questions": [],\n  "key_moments": ["22 seconds of uninte'
2025-11-03 21:54:04,745 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "The transcript consists entirely of silence with no verbal interaction from the patient.",\n  "tone": "unresponsive",\n  "repeated_questions": [],\n  "key_moments": ["22 seconds of uninte'
2025-11-03 21:54:04,745 - routes.audio - INFO - DEBUG - parsed_response type: <class 'dict'>
2025-11-03 21:54:04,745 - routes.audio - INFO - DEBUG - parsed_response keys: dict_keys(['summary', 'repetition_json', 'agitation_score', 'mood_label', 'suggestions'])
2025-11-03 21:54:04,745 - routes.audio - INFO - DEBUG - raw_summary type: <class 'str'>, first 200 chars: 'The transcript consists entirely of silence with no verbal interaction from the patient.'
2025-11-03 21:54:04,745 - routes.audio - INFO - DEBUG - clean_summary after cleanup, first 200 chars: 'The transcript consists entirely of silence with no verbal interaction from the patient.'
2025-11-03 21:54:04,745 - routes.audio - INFO - AI summarization successful for session session_20251103_215359_e1cd85cb
2025-11-03 21:54:04,745 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_215359_e1cd85cb
2025-11-03 21:54:04,745 - routes.audio - INFO - DEBUG - About to store summary in DB, first 200 chars: 'The transcript consists entirely of silence with no verbal interaction from the patient.'
2025-11-03 21:54:04,747 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_215359_e1cd85cb
2025-11-03 21:54:44,280 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:54:44,282 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 21:54:44,282 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 21:54:44,282 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:54:44,282 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 21:54:44,282 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 21:54:44,282 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:54:44,282 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:54:44,283 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:255448]
2025-11-03 21:54:44,283 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:71198]
2025-11-03 21:54:44,283 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:54:44,283 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:54:44,283 - python_multipart.multipart - DEBUG - Calling on_header_field with data[71242:71261]
2025-11-03 21:54:44,283 - python_multipart.multipart - DEBUG - Calling on_header_value with data[71263:71293]
2025-11-03 21:54:44,283 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:54:44,283 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:54:44,284 - python_multipart.multipart - DEBUG - Calling on_part_data with data[71297:71307]
2025-11-03 21:54:44,284 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:54:44,284 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:54:44,284 - python_multipart.multipart - DEBUG - Calling on_header_field with data[71351:71370]
2025-11-03 21:54:44,284 - python_multipart.multipart - DEBUG - Calling on_header_value with data[71372:71400]
2025-11-03 21:54:44,284 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:54:44,284 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:54:44,284 - python_multipart.multipart - DEBUG - Calling on_part_data with data[71404:71419]
2025-11-03 21:54:44,284 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:54:44,284 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 21:54:44,286 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_215444_bc65c52a.wav
2025-11-03 21:54:44,480 - routes.audio - INFO - Successfully converted recordings/session_20251103_215444_bc65c52a.wav to recordings/session_20251103_215444_bc65c52a_converted.wav
2025-11-03 21:54:44,480 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_215444_bc65c52a_converted.wav
2025-11-03 21:54:45,182 - routes.audio - INFO - Transcription completed. Length: 263, Content: 
[00:00:00.000 --> 00:00:04.000]   This is test number one for medication. We're seeing if this work
2025-11-03 21:54:45,197 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:04.000]   This is test number one for medication. We're seeing if this works\n[00:00:04.000 --> 00:00:07.160]   I'm gonna give some patience on some weed\n[00:00:07.160 --> 00:00:11.320]   Under the under the table, you know saying illegal", 'metadata': {'session_id': 'session_20251103_215444_bc65c52a', 'timestamp': '2025-11-03T21:54:45.183186', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251103_215444_bc65c52a_converted.wav'}}
2025-11-03 21:54:45,197 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:04.000]   This is test number one for medication. We're seeing if this works, session_id: session_20251103_215444_bc65c52a, session_type: medication
2025-11-03 21:54:45,197 - routes.audio - INFO - Calling AI summarization for session session_20251103_215444_bc65c52a
2025-11-03 21:54:45,203 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 21:54:49,182 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 200 None
2025-11-03 21:54:49,183 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "The transcript appears to be a test recording rather than an actual medication administration session. The content suggests technical testing with brief, unclear references to '
2025-11-03 21:54:49,183 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "The transcript appears to be a test recording rather than an actual medication administration session. The content suggests technical testing with brief, unclear references to medicati'
2025-11-03 21:54:49,183 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "The transcript appears to be a test recording rather than an actual medication administration session. The content suggests technical testing with brief, unclear references to medicati'
2025-11-03 21:54:49,183 - routes.audio - INFO - DEBUG - parsed_response type: <class 'dict'>
2025-11-03 21:54:49,183 - routes.audio - INFO - DEBUG - parsed_response keys: dict_keys(['summary', 'repetition_json', 'agitation_score', 'mood_label', 'suggestions'])
2025-11-03 21:54:49,183 - routes.audio - INFO - DEBUG - raw_summary type: <class 'str'>, first 200 chars: 'The transcript appears to be a test recording rather than an actual medication administration session. The content suggests technical testing with brief, unclear references to medication.'
2025-11-03 21:54:49,183 - routes.audio - INFO - DEBUG - clean_summary after cleanup, first 200 chars: 'The transcript appears to be a test recording rather than an actual medication administration session. The content suggests technical testing with brief, unclear references to medication.'
2025-11-03 21:54:49,183 - routes.audio - INFO - AI summarization successful for session session_20251103_215444_bc65c52a
2025-11-03 21:54:49,183 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_215444_bc65c52a
2025-11-03 21:54:49,183 - routes.audio - INFO - DEBUG - About to store summary in DB, first 200 chars: 'The transcript appears to be a test recording rather than an actual medication administration session. The content suggests technical testing with brief, unclear references to medication.'
2025-11-03 21:54:49,184 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_215444_bc65c52a
2025-11-03 21:55:17,445 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:55:17,446 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 21:55:17,446 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 21:55:17,446 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:55:17,446 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 21:55:17,446 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 21:55:17,446 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:55:17,446 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:55:17,446 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:256000]
2025-11-03 21:55:17,446 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:67895]
2025-11-03 21:55:17,446 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:55:17,446 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:55:17,446 - python_multipart.multipart - DEBUG - Calling on_header_field with data[67939:67958]
2025-11-03 21:55:17,447 - python_multipart.multipart - DEBUG - Calling on_header_value with data[67960:67990]
2025-11-03 21:55:17,447 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:55:17,447 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:55:17,447 - python_multipart.multipart - DEBUG - Calling on_part_data with data[67994:68004]
2025-11-03 21:55:17,447 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:55:17,447 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:55:17,447 - python_multipart.multipart - DEBUG - Calling on_header_field with data[68048:68067]
2025-11-03 21:55:17,447 - python_multipart.multipart - DEBUG - Calling on_header_value with data[68069:68097]
2025-11-03 21:55:17,447 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:55:17,447 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:55:17,447 - python_multipart.multipart - DEBUG - Calling on_part_data with data[68101:68116]
2025-11-03 21:55:17,447 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:55:17,447 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 21:55:17,448 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_215517_a7ce1e03.wav
2025-11-03 21:55:17,644 - routes.audio - INFO - Successfully converted recordings/session_20251103_215517_a7ce1e03.wav to recordings/session_20251103_215517_a7ce1e03_converted.wav
2025-11-03 21:55:17,644 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_215517_a7ce1e03_converted.wav
2025-11-03 21:55:18,345 - routes.audio - INFO - Transcription completed. Length: 209, Content: 
[00:00:00.000 --> 00:00:08.000]   All right, I mean, this is pretty good. It works. AI analysis and
2025-11-03 21:55:18,363 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:08.000]   All right, I mean, this is pretty good. It works. AI analysis and whisper and all this stuff.\n[00:00:08.000 --> 00:00:12.240]   Just some fentanyl. You know what I'm saying?", 'metadata': {'session_id': 'session_20251103_215517_a7ce1e03', 'timestamp': '2025-11-03T21:55:18.346466', 'patient_id': 'default_patient', 'session_type': 'medication', 'audio_file': 'session_20251103_215517_a7ce1e03_converted.wav'}}
2025-11-03 21:55:18,363 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:08.000]   All right, I mean, this is pretty good. It works. AI analysis and , session_id: session_20251103_215517_a7ce1e03, session_type: medication
2025-11-03 21:55:18,363 - routes.audio - INFO - Calling AI summarization for session session_20251103_215517_a7ce1e03
2025-11-03 21:55:18,366 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 21:55:21,346 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 200 None
2025-11-03 21:55:21,347 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "The transcript contains only a brief, unclear fragment where the speaker mentions fentanyl in a conversational manner, but provides no actual medication administration details '
2025-11-03 21:55:21,347 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "The transcript contains only a brief, unclear fragment where the speaker mentions fentanyl in a conversational manner, but provides no actual medication administration details or patie'
2025-11-03 21:55:21,348 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "The transcript contains only a brief, unclear fragment where the speaker mentions fentanyl in a conversational manner, but provides no actual medication administration details or patie'
2025-11-03 21:55:21,348 - routes.audio - INFO - DEBUG - parsed_response type: <class 'dict'>
2025-11-03 21:55:21,348 - routes.audio - INFO - DEBUG - parsed_response keys: dict_keys(['summary', 'repetition_json', 'agitation_score', 'mood_label', 'suggestions'])
2025-11-03 21:55:21,348 - routes.audio - INFO - DEBUG - raw_summary type: <class 'str'>, first 200 chars: 'The transcript contains only a brief, unclear fragment where the speaker mentions fentanyl in a conversational manner, but provides no actual medication administration details or patient interaction.'
2025-11-03 21:55:21,348 - routes.audio - INFO - DEBUG - clean_summary after cleanup, first 200 chars: 'The transcript contains only a brief, unclear fragment where the speaker mentions fentanyl in a conversational manner, but provides no actual medication administration details or patient interaction.'
2025-11-03 21:55:21,348 - routes.audio - INFO - AI summarization successful for session session_20251103_215517_a7ce1e03
2025-11-03 21:55:21,348 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_215517_a7ce1e03
2025-11-03 21:55:21,348 - routes.audio - INFO - DEBUG - About to store summary in DB, first 200 chars: 'The transcript contains only a brief, unclear fragment where the speaker mentions fentanyl in a conversational manner, but provides no actual medication administration details or patient interaction.'
2025-11-03 21:55:21,350 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_215517_a7ce1e03
2025-11-03 21:59:58,248 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:255448]
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:38270]
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_header_field with data[38314:38333]
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_header_value with data[38335:38365]
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_part_data with data[38369:38379]
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_header_field with data[38423:38442]
2025-11-03 21:59:58,249 - python_multipart.multipart - DEBUG - Calling on_header_value with data[38444:38472]
2025-11-03 21:59:58,250 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 21:59:58,250 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 21:59:58,250 - python_multipart.multipart - DEBUG - Calling on_part_data with data[38476:38491]
2025-11-03 21:59:58,250 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 21:59:58,250 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 21:59:58,252 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_215958_18987619.wav
2025-11-03 21:59:58,555 - routes.audio - INFO - Successfully converted recordings/session_20251103_215958_18987619.wav to recordings/session_20251103_215958_18987619_converted.wav
2025-11-03 21:59:58,556 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_215958_18987619_converted.wav
2025-11-03 21:59:59,283 - routes.audio - INFO - Transcription completed. Length: 127, Content: 
[00:00:00.000 --> 00:00:11.000]   What day is it, where am I, four years it, 20, 20, 49, 20, 49, fo
2025-11-03 21:59:59,296 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:11.000]   What day is it, where am I, four years it, 20, 20, 49, 20, 49, four, nine for all the dogs?', 'metadata': {'session_id': 'session_20251103_215958_18987619', 'timestamp': '2025-11-03T21:59:59.283811', 'patient_id': 'default_patient', 'session_type': 'sundowning', 'audio_file': 'session_20251103_215958_18987619_converted.wav'}}
2025-11-03 21:59:59,296 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:11.000]   What day is it, where am I, four years it, 20, 20, 49, 20, 49, fou, session_id: session_20251103_215958_18987619, session_type: sundowning
2025-11-03 21:59:59,296 - routes.audio - INFO - Calling AI summarization for session session_20251103_215958_18987619
2025-11-03 21:59:59,300 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 22:00:03,759 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 200 None
2025-11-03 22:00:03,759 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "A brief evening session showing significant confusion with disoriented questioning about time and location, characteristic of sundowning.",\n  "tone": "confused and disoriented"'
2025-11-03 22:00:03,759 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "A brief evening session showing significant confusion with disoriented questioning about time and location, characteristic of sundowning.",\n  "tone": "confused and disoriented",\n  "rep'
2025-11-03 22:00:03,760 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "A brief evening session showing significant confusion with disoriented questioning about time and location, characteristic of sundowning.",\n  "tone": "confused and disoriented",\n  "rep'
2025-11-03 22:00:03,760 - routes.audio - INFO - DEBUG - parsed_response type: <class 'dict'>
2025-11-03 22:00:03,760 - routes.audio - INFO - DEBUG - parsed_response keys: dict_keys(['summary', 'repetition_json', 'agitation_score', 'mood_label', 'suggestions'])
2025-11-03 22:00:03,760 - routes.audio - INFO - DEBUG - raw_summary type: <class 'str'>, first 200 chars: 'A brief evening session showing significant confusion with disoriented questioning about time and location, characteristic of sundowning.'
2025-11-03 22:00:03,760 - routes.audio - INFO - DEBUG - clean_summary after cleanup, first 200 chars: 'A brief evening session showing significant confusion with disoriented questioning about time and location, characteristic of sundowning.'
2025-11-03 22:00:03,760 - routes.audio - INFO - AI summarization successful for session session_20251103_215958_18987619
2025-11-03 22:00:03,760 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_215958_18987619
2025-11-03 22:00:03,760 - routes.audio - INFO - DEBUG - About to store summary in DB, first 200 chars: 'A brief evening session showing significant confusion with disoriented questioning about time and location, characteristic of sundowning.'
2025-11-03 22:00:03,762 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_215958_18987619
2025-11-03 22:04:07,417 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 22:04:07,421 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 22:04:07,421 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 22:04:07,421 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:04:07,421 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 22:04:07,421 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 22:04:07,421 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:04:07,421 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:142679]
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_header_field with data[142723:142742]
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_header_value with data[142744:142774]
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142778:142786]
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_header_field with data[142830:142849]
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_header_value with data[142851:142879]
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142883:142898]
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 22:04:07,422 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 22:04:07,433 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_220407_1966b73d.wav
2025-11-03 22:04:07,735 - routes.audio - INFO - Successfully converted recordings/session_20251103_220407_1966b73d.wav to recordings/session_20251103_220407_1966b73d_converted.wav
2025-11-03 22:04:07,736 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_220407_1966b73d_converted.wav
2025-11-03 22:04:08,637 - routes.audio - INFO - Transcription completed. Length: 139, Content: 
[00:00:00.000 --> 00:00:04.840]   Buddy, buddy, buddy, buddy, buddy, buddy, buddy, buddy, buddy, bu
2025-11-03 22:04:08,671 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:04.840]   Buddy, buddy, buddy, buddy, buddy, buddy, buddy, buddy, buddy, buddy, buddy, buddy, buddy, buddy, buddy', 'metadata': {'session_id': 'session_20251103_220407_1966b73d', 'timestamp': '2025-11-03T22:04:08.637659', 'patient_id': 'default_patient', 'session_type': 'freeform', 'audio_file': 'session_20251103_220407_1966b73d_converted.wav'}}
2025-11-03 22:04:08,672 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:04.840]   Buddy, buddy, buddy, buddy, buddy, buddy, buddy, buddy, buddy, bud, session_id: session_20251103_220407_1966b73d, session_type: freeform
2025-11-03 22:04:08,672 - routes.audio - INFO - Calling AI summarization for session session_20251103_220407_1966b73d
2025-11-03 22:04:08,693 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 22:04:38,298 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 200 None
2025-11-03 22:04:38,299 - routes.summarize - INFO - Raw response (first 200 chars): '{\n  "summary": "The transcript consists of a single utterance of the word \'buddy\' repeated 15 times. There is no conversational content, questions, or other discernible speech.",\n  "tone": "neutral",\n'
2025-11-03 22:04:38,299 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "The transcript consists of a single utterance of the word \'buddy\' repeated 15 times. There is no conversational content, questions, or other discernible speech.",\n  "tone": "neutral",\n'
2025-11-03 22:04:38,299 - routes.audio - INFO - DEBUG - parsed_response type: <class 'dict'>
2025-11-03 22:04:38,299 - routes.audio - INFO - DEBUG - parsed_response keys: dict_keys(['summary', 'repetition_json', 'agitation_score', 'mood_label', 'suggestions'])
2025-11-03 22:04:38,299 - routes.audio - INFO - DEBUG - raw_summary type: <class 'str'>, first 200 chars: "The transcript consists of a single utterance of the word 'buddy' repeated 15 times. There is no conversational content, questions, or other discernible speech."
2025-11-03 22:04:38,299 - routes.audio - INFO - DEBUG - clean_summary after cleanup, first 200 chars: "The transcript consists of a single utterance of the word 'buddy' repeated 15 times. There is no conversational content, questions, or other discernible speech."
2025-11-03 22:04:38,299 - routes.audio - INFO - AI summarization successful for session session_20251103_220407_1966b73d
2025-11-03 22:04:38,299 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_220407_1966b73d
2025-11-03 22:04:38,300 - routes.audio - INFO - DEBUG - About to store summary in DB, first 200 chars: "The transcript consists of a single utterance of the word 'buddy' repeated 15 times. There is no conversational content, questions, or other discernible speech."
2025-11-03 22:04:38,302 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_220407_1966b73d
2025-11-03 22:07:29,702 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:198819]
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_header_field with data[198863:198882]
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_header_value with data[198884:198914]
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_part_data with data[198918:198926]
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_header_field with data[198970:198989]
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_header_value with data[198991:199019]
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_part_data with data[199023:199038]
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 22:07:29,703 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 22:07:29,706 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_220729_8562c81d.wav
2025-11-03 22:07:30,001 - routes.audio - INFO - Successfully converted recordings/session_20251103_220729_8562c81d.wav to recordings/session_20251103_220729_8562c81d_converted.wav
2025-11-03 22:07:30,001 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_220729_8562c81d_converted.wav
2025-11-03 22:07:30,698 - routes.audio - INFO - Transcription completed. Length: 126, Content: 
[00:00:00.000 --> 00:00:06.600]   We'll see what this is, you know what I'm saying, caroling test 1
2025-11-03 22:07:30,716 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:06.600]   We'll see what this is, you know what I'm saying, caroling test 1, BPC, you better get me.", 'metadata': {'session_id': 'session_20251103_220729_8562c81d', 'timestamp': '2025-11-03T22:07:30.698952', 'patient_id': 'default_patient', 'session_type': 'freeform', 'audio_file': 'session_20251103_220729_8562c81d_converted.wav'}}
2025-11-03 22:07:30,716 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:06.600]   We'll see what this is, you know what I'm saying, caroling test 1,, session_id: session_20251103_220729_8562c81d, session_type: freeform
2025-11-03 22:07:30,716 - routes.audio - INFO - Calling AI summarization for session session_20251103_220729_8562c81d
2025-11-03 22:07:30,724 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 22:07:45,074 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 200 None
2025-11-03 22:07:45,074 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "Very brief, fragmented utterance with unclear context, possibly referencing a test or procedure. The patient\'s speech suggests some awareness but is incomplete and difficult to'
2025-11-03 22:07:45,074 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "Very brief, fragmented utterance with unclear context, possibly referencing a test or procedure. The patient\'s speech suggests some awareness but is incomplete and difficult to interpr'
2025-11-03 22:07:45,075 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "Very brief, fragmented utterance with unclear context, possibly referencing a test or procedure. The patient\'s speech suggests some awareness but is incomplete and difficult to interpr'
2025-11-03 22:07:45,075 - routes.audio - INFO - DEBUG - parsed_response type: <class 'dict'>
2025-11-03 22:07:45,075 - routes.audio - INFO - DEBUG - parsed_response keys: dict_keys(['summary', 'repetition_json', 'agitation_score', 'mood_label', 'suggestions'])
2025-11-03 22:07:45,075 - routes.audio - INFO - DEBUG - raw_summary type: <class 'str'>, first 200 chars: "Very brief, fragmented utterance with unclear context, possibly referencing a test or procedure. The patient's speech suggests some awareness but is incomplete and difficult to interpret."
2025-11-03 22:07:45,075 - routes.audio - INFO - DEBUG - clean_summary after cleanup, first 200 chars: "Very brief, fragmented utterance with unclear context, possibly referencing a test or procedure. The patient's speech suggests some awareness but is incomplete and difficult to interpret."
2025-11-03 22:07:45,075 - routes.audio - INFO - AI summarization successful for session session_20251103_220729_8562c81d
2025-11-03 22:07:45,075 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_220729_8562c81d
2025-11-03 22:07:45,075 - routes.audio - INFO - DEBUG - About to store summary in DB, first 200 chars: "Very brief, fragmented utterance with unclear context, possibly referencing a test or procedure. The patient's speech suggests some awareness but is incomplete and difficult to interpret."
2025-11-03 22:07:45,078 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_220729_8562c81d
2025-11-03 22:08:29,543 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 22:08:29,544 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 22:08:29,544 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 22:08:29,544 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:08:29,544 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 22:08:29,545 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 22:08:29,545 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:08:29,545 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 22:08:29,545 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:255448]
2025-11-03 22:08:29,545 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:256000]
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:223430]
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_header_field with data[223474:223493]
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_header_value with data[223495:223525]
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_part_data with data[223529:223537]
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_header_field with data[223581:223600]
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_header_value with data[223602:223630]
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_part_data with data[223634:223649]
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 22:08:29,546 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 22:08:29,549 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_220829_c50a0117.wav
2025-11-03 22:08:29,765 - routes.audio - INFO - Successfully converted recordings/session_20251103_220829_c50a0117.wav to recordings/session_20251103_220829_c50a0117_converted.wav
2025-11-03 22:08:29,765 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_220829_c50a0117_converted.wav
2025-11-03 22:08:30,765 - routes.audio - INFO - Transcription completed. Length: 525, Content: 
[00:00:00.000 --> 00:00:04.200]   All right, I'm going to do a longer test this time.
[00:00:04.200
2025-11-03 22:08:30,857 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:04.200]   All right, I'm going to do a longer test this time.\n[00:00:04.200 --> 00:00:09.800]   Yeah, longer test just to see if the transcription is working properly.\n[00:00:09.800 --> 00:00:17.600]   Yeah, I might expand this to AWS, you know, my add-in some Stripe, yeah, who knows where\n[00:00:17.600 --> 00:00:20.040]   this goes, you know what I'm saying.\n[00:00:20.040 --> 00:00:24.680]   Yeah, I don't even know how long the recording time is.\n[00:00:24.680 --> 00:00:25.680]   it times out.", 'metadata': {'session_id': 'session_20251103_220829_c50a0117', 'timestamp': '2025-11-03T22:08:30.765559', 'patient_id': 'default_patient', 'session_type': 'freeform', 'audio_file': 'session_20251103_220829_c50a0117_converted.wav'}}
2025-11-03 22:08:30,861 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:04.200]   All right, I'm going to do a longer test this time.
[00:00:04.200 , session_id: session_20251103_220829_c50a0117, session_type: freeform
2025-11-03 22:08:30,861 - routes.audio - INFO - Calling AI summarization for session session_20251103_220829_c50a0117
2025-11-03 22:08:30,886 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 22:08:34,529 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 200 None
2025-11-03 22:08:34,530 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "A brief technical test recording where the speaker discusses testing transcription software and potential future expansions to AWS and Stripe integration.",\n  "tone": "thoughtf'
2025-11-03 22:08:34,530 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "A brief technical test recording where the speaker discusses testing transcription software and potential future expansions to AWS and Stripe integration.",\n  "tone": "thoughtful, tech'
2025-11-03 22:08:34,530 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "A brief technical test recording where the speaker discusses testing transcription software and potential future expansions to AWS and Stripe integration.",\n  "tone": "thoughtful, tech'
2025-11-03 22:08:34,530 - routes.audio - INFO - DEBUG - parsed_response type: <class 'dict'>
2025-11-03 22:08:34,530 - routes.audio - INFO - DEBUG - parsed_response keys: dict_keys(['summary', 'repetition_json', 'agitation_score', 'mood_label', 'suggestions'])
2025-11-03 22:08:34,530 - routes.audio - INFO - DEBUG - raw_summary type: <class 'str'>, first 200 chars: 'A brief technical test recording where the speaker discusses testing transcription software and potential future expansions to AWS and Stripe integration.'
2025-11-03 22:08:34,530 - routes.audio - INFO - DEBUG - clean_summary after cleanup, first 200 chars: 'A brief technical test recording where the speaker discusses testing transcription software and potential future expansions to AWS and Stripe integration.'
2025-11-03 22:08:34,530 - routes.audio - INFO - AI summarization successful for session session_20251103_220829_c50a0117
2025-11-03 22:08:34,530 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_220829_c50a0117
2025-11-03 22:08:34,530 - routes.audio - INFO - DEBUG - About to store summary in DB, first 200 chars: 'A brief technical test recording where the speaker discusses testing transcription software and potential future expansions to AWS and Stripe integration.'
2025-11-03 22:08:34,530 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_220829_c50a0117
2025-11-03 22:12:02,197 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 22:12:02,197 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-03 22:12:02,197 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-03 22:12:02,197 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:12:02,197 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-03 22:12:02,197 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-03 22:12:02,197 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:12:02,197 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 22:12:02,198 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:255448]
2025-11-03 22:12:02,201 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:256000]
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:10982]
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_header_field with data[11026:11045]
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_header_value with data[11047:11077]
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_part_data with data[11081:11089]
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_header_field with data[11133:11152]
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_header_value with data[11154:11182]
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_part_data with data[11186:11201]
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-03 22:12:02,202 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-03 22:12:02,205 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251103_221202_7e4308eb.wav
2025-11-03 22:12:02,489 - routes.audio - INFO - Successfully converted recordings/session_20251103_221202_7e4308eb.wav to recordings/session_20251103_221202_7e4308eb_converted.wav
2025-11-03 22:12:02,490 - routes.audio - INFO - Starting transcription for file: recordings/session_20251103_221202_7e4308eb_converted.wav
2025-11-03 22:12:03,294 - routes.audio - INFO - Transcription completed. Length: 229, Content: 
[00:00:00.000 --> 00:00:09.120]   You know, I'm ready. I'm gonna expand Kerilink into a AWS Enterpr
2025-11-03 22:12:03,314 - routes.audio - INFO - Processing session with data: {'transcript': "[00:00:00.000 --> 00:00:09.120]   You know, I'm ready. I'm gonna expand Kerilink into a AWS Enterprise user, you\n[00:00:09.120 --> 00:00:19.240]   know, my Mac, you know, my kind of company card, you know, Kerilink to the moon.", 'metadata': {'session_id': 'session_20251103_221202_7e4308eb', 'timestamp': '2025-11-03T22:12:03.294469', 'patient_id': 'default_patient', 'session_type': 'freeform', 'audio_file': 'session_20251103_221202_7e4308eb_converted.wav'}}
2025-11-03 22:12:03,314 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:09.120]   You know, I'm ready. I'm gonna expand Kerilink into a AWS Enterpri, session_id: session_20251103_221202_7e4308eb, session_type: freeform
2025-11-03 22:12:03,314 - routes.audio - INFO - Calling AI summarization for session session_20251103_221202_7e4308eb
2025-11-03 22:12:03,321 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-03 22:12:07,017 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/11" 200 None
2025-11-03 22:12:07,017 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "Brief, work-focused conversation where the patient expresses enthusiasm about expanding their company (Kerilink) using AWS and mentions company resources, showing engagement wi'
2025-11-03 22:12:07,018 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "Brief, work-focused conversation where the patient expresses enthusiasm about expanding their company (Kerilink) using AWS and mentions company resources, showing engagement with profe'
2025-11-03 22:12:07,018 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "Brief, work-focused conversation where the patient expresses enthusiasm about expanding their company (Kerilink) using AWS and mentions company resources, showing engagement with profe'
2025-11-03 22:12:07,018 - routes.audio - INFO - DEBUG - parsed_response type: <class 'dict'>
2025-11-03 22:12:07,018 - routes.audio - INFO - DEBUG - parsed_response keys: dict_keys(['summary', 'repetition_json', 'agitation_score', 'mood_label', 'suggestions'])
2025-11-03 22:12:07,018 - routes.audio - INFO - DEBUG - raw_summary type: <class 'str'>, first 200 chars: 'Brief, work-focused conversation where the patient expresses enthusiasm about expanding their company (Kerilink) using AWS and mentions company resources, showing engagement with professional topics f'
2025-11-03 22:12:07,018 - routes.audio - INFO - DEBUG - clean_summary after cleanup, first 200 chars: 'Brief, work-focused conversation where the patient expresses enthusiasm about expanding their company (Kerilink) using AWS and mentions company resources, showing engagement with professional topics f'
2025-11-03 22:12:07,018 - routes.audio - INFO - AI summarization successful for session session_20251103_221202_7e4308eb
2025-11-03 22:12:07,018 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251103_221202_7e4308eb
2025-11-03 22:12:07,018 - routes.audio - INFO - DEBUG - About to store summary in DB, first 200 chars: 'Brief, work-focused conversation where the patient expresses enthusiasm about expanding their company (Kerilink) using AWS and mentions company resources, showing engagement with professional topics f'
2025-11-03 22:12:07,019 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251103_221202_7e4308eb
2025-11-05 10:50:54,164 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-05 10:50:54,177 - python_multipart.multipart - DEBUG - Calling on_header_field with data[42:61]
2025-11-05 10:50:54,178 - python_multipart.multipart - DEBUG - Calling on_header_value with data[63:112]
2025-11-05 10:50:54,178 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-05 10:50:54,178 - python_multipart.multipart - DEBUG - Calling on_header_field with data[114:126]
2025-11-05 10:50:54,178 - python_multipart.multipart - DEBUG - Calling on_header_value with data[128:138]
2025-11-05 10:50:54,178 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-05 10:50:54,178 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-05 10:50:54,181 - python_multipart.multipart - DEBUG - Calling on_part_data with data[142:255448]
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_part_data with data[0:8991]
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_header_field with data[9035:9054]
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_header_value with data[9056:9086]
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_part_data with data[9090:9098]
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_header_field with data[9142:9161]
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_header_value with data[9163:9191]
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_part_data with data[9195:9210]
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-11-05 10:50:54,184 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-11-05 10:50:54,203 - routes.audio - INFO - Converting WebM to WAV format for file: recordings/session_20251105_105054_cead7da2.wav
2025-11-05 10:50:55,252 - routes.audio - INFO - Successfully converted recordings/session_20251105_105054_cead7da2.wav to recordings/session_20251105_105054_cead7da2_converted.wav
2025-11-05 10:50:55,252 - routes.audio - INFO - Starting transcription for file: recordings/session_20251105_105054_cead7da2_converted.wav
2025-11-05 10:50:56,161 - routes.audio - INFO - Transcription completed. Length: 121, Content: 
[00:00:00.000 --> 00:00:04.000]   Hello, hello, hello, hello.
[00:00:04.000 --> 00:00:10.000]   Nea
2025-11-05 10:50:56,301 - routes.audio - INFO - Processing session with data: {'transcript': '[00:00:00.000 --> 00:00:04.000]   Hello, hello, hello, hello.\n[00:00:04.000 --> 00:00:10.000]   Nearly set, e-mailions.', 'metadata': {'session_id': 'session_20251105_105054_cead7da2', 'timestamp': '2025-11-05T10:50:56.162377', 'patient_id': 'default_patient', 'session_type': 'freeform', 'audio_file': 'session_20251105_105054_cead7da2_converted.wav'}}
2025-11-05 10:50:56,301 - routes.audio - INFO - Extracted - transcript: [00:00:00.000 --> 00:00:04.000]   Hello, hello, hello, hello.
[00:00:04.000 --> 00:00:10.000]   Near, session_id: session_20251105_105054_cead7da2, session_type: freeform
2025-11-05 10:50:56,305 - routes.audio - INFO - Calling AI summarization for session session_20251105_105054_cead7da2
2025-11-05 10:50:56,565 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-11-05 10:51:47,446 - urllib3.connectionpool - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 None
2025-11-05 10:51:47,456 - routes.summarize - INFO - Raw response (first 200 chars): '```json\n{\n  "summary": "Extremely brief interaction with only greetings and a single unclear phrase. Insufficient data for meaningful analysis of cognitive status or conversation themes.",\n  "tone": "'
2025-11-05 10:51:47,456 - routes.summarize - INFO - After fence removal (first 200 chars): '{\n  "summary": "Extremely brief interaction with only greetings and a single unclear phrase. Insufficient data for meaningful analysis of cognitive status or conversation themes.",\n  "tone": "neutral"'
2025-11-05 10:51:47,456 - routes.summarize - INFO - Extracted JSON (first 200 chars): '{\n  "summary": "Extremely brief interaction with only greetings and a single unclear phrase. Insufficient data for meaningful analysis of cognitive status or conversation themes.",\n  "tone": "neutral"'
2025-11-05 10:51:47,456 - routes.audio - INFO - DEBUG - parsed_response type: <class 'dict'>
2025-11-05 10:51:47,457 - routes.audio - INFO - DEBUG - parsed_response keys: dict_keys(['summary', 'repetition_json', 'agitation_score', 'mood_label', 'suggestions'])
2025-11-05 10:51:47,457 - routes.audio - INFO - DEBUG - raw_summary type: <class 'str'>, first 200 chars: 'Extremely brief interaction with only greetings and a single unclear phrase. Insufficient data for meaningful analysis of cognitive status or conversation themes.'
2025-11-05 10:51:47,457 - routes.audio - INFO - DEBUG - clean_summary after cleanup, first 200 chars: 'Extremely brief interaction with only greetings and a single unclear phrase. Insufficient data for meaningful analysis of cognitive status or conversation themes.'
2025-11-05 10:51:47,457 - routes.audio - INFO - AI summarization successful for session session_20251105_105054_cead7da2
2025-11-05 10:51:47,457 - routes.audio - INFO - Attempting to store analysis for session_id: session_20251105_105054_cead7da2
2025-11-05 10:51:47,457 - routes.audio - INFO - DEBUG - About to store summary in DB, first 200 chars: 'Extremely brief interaction with only greetings and a single unclear phrase. Insufficient data for meaningful analysis of cognitive status or conversation themes.'
2025-11-05 10:51:47,464 - routes.audio - INFO - Successfully stored analysis for session_id: session_20251105_105054_cead7da2
